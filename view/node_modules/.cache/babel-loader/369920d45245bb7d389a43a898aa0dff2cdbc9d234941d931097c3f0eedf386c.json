{"ast":null,"code":"import \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport { client } from '../plugins/Platform.js';\nimport { getTouchTarget } from '../utils/touch.js';\nimport { addEvt, cleanEvt, position, leftClick, stopAndPrevent, noop } from '../utils/event.js';\nimport { clearSelection } from '../utils/selection.js';\nfunction destroy(el) {\n  var ctx = el.__qtouchhold;\n  if (ctx !== void 0) {\n    cleanEvt(ctx, 'main');\n    cleanEvt(ctx, 'temp');\n    clearTimeout(ctx.timer);\n    ctx.styleCleanup !== void 0 && ctx.styleCleanup();\n    delete el.__qtouchhold;\n  }\n}\nexport default {\n  name: 'touch-hold',\n  bind: function bind(el, binding) {\n    if (el.__qtouchhold !== void 0) {\n      destroy(el);\n      el.__qtouchhold_destroyed = true;\n    }\n    var modifiers = binding.modifiers;\n\n    // early return, we don't need to do anything\n    if (modifiers.mouse !== true && client.has.touch !== true) {\n      return;\n    }\n    var ctx = {\n      handler: binding.value,\n      noop: noop,\n      mouseStart: function mouseStart(evt) {\n        if (typeof ctx.handler === 'function' && leftClick(evt) === true) {\n          addEvt(ctx, 'temp', [[document, 'mousemove', 'move', 'passiveCapture'], [document, 'click', 'end', 'notPassiveCapture']]);\n          ctx.start(evt, true);\n        }\n      },\n      touchStart: function touchStart(evt) {\n        if (evt.target !== void 0 && typeof ctx.handler === 'function') {\n          var target = getTouchTarget(evt.target);\n          addEvt(ctx, 'temp', [[target, 'touchmove', 'move', 'passiveCapture'], [target, 'touchcancel', 'end', 'notPassiveCapture'], [target, 'touchend', 'end', 'notPassiveCapture']]);\n          ctx.start(evt);\n        }\n      },\n      start: function start(evt, mouseEvent) {\n        ctx.origin = position(evt);\n        var startTime = Date.now();\n        if (client.is.mobile === true) {\n          document.body.classList.add('non-selectable');\n          clearSelection();\n          ctx.styleCleanup = function (withDelay) {\n            ctx.styleCleanup = void 0;\n            var remove = function remove() {\n              document.body.classList.remove('non-selectable');\n            };\n            if (withDelay === true) {\n              clearSelection();\n              setTimeout(remove, 10);\n            } else {\n              remove();\n            }\n          };\n        }\n        ctx.triggered = false;\n        ctx.sensitivity = mouseEvent === true ? ctx.mouseSensitivity : ctx.touchSensitivity;\n        ctx.timer = setTimeout(function () {\n          clearSelection();\n          ctx.triggered = true;\n          ctx.handler({\n            evt: evt,\n            touch: mouseEvent !== true,\n            mouse: mouseEvent === true,\n            position: ctx.origin,\n            duration: Date.now() - startTime\n          });\n        }, ctx.duration);\n      },\n      move: function move(evt) {\n        var _position = position(evt),\n          top = _position.top,\n          left = _position.left;\n        if (Math.abs(left - ctx.origin.left) >= ctx.sensitivity || Math.abs(top - ctx.origin.top) >= ctx.sensitivity) {\n          clearTimeout(ctx.timer);\n        }\n      },\n      end: function end(evt) {\n        cleanEvt(ctx, 'temp');\n\n        // delay needed otherwise selection still occurs\n        ctx.styleCleanup !== void 0 && ctx.styleCleanup(ctx.triggered);\n        if (ctx.triggered === true) {\n          evt !== void 0 && stopAndPrevent(evt);\n        } else {\n          clearTimeout(ctx.timer);\n        }\n      }\n    };\n\n    // duration in ms, touch in pixels, mouse in pixels\n    var data = [600, 5, 7];\n    if (typeof binding.arg === 'string' && binding.arg.length > 0) {\n      binding.arg.split(':').forEach(function (val, index) {\n        var v = parseInt(val, 10);\n        v && (data[index] = v);\n      });\n    }\n    ctx.duration = data[0];\n    ctx.touchSensitivity = data[1];\n    ctx.mouseSensitivity = data[2];\n    el.__qtouchhold = ctx;\n    modifiers.mouse === true && addEvt(ctx, 'main', [[el, 'mousedown', 'mouseStart', \"passive\".concat(modifiers.mouseCapture === true ? 'Capture' : '')]]);\n    client.has.touch === true && addEvt(ctx, 'main', [[el, 'touchstart', 'touchStart', \"passive\".concat(modifiers.capture === true ? 'Capture' : '')], [el, 'touchend', 'noop', 'notPassiveCapture']]);\n  },\n  update: function update(el, binding) {\n    var ctx = el.__qtouchhold;\n    if (ctx !== void 0 && binding.oldValue !== binding.value) {\n      typeof binding.value !== 'function' && ctx.end();\n      ctx.handler = binding.value;\n    }\n  },\n  unbind: function unbind(el) {\n    if (el.__qtouchhold_destroyed === void 0) {\n      destroy(el);\n    } else {\n      delete el.__qtouchhold_destroyed;\n    }\n  }\n};","map":{"version":3,"names":["client","getTouchTarget","addEvt","cleanEvt","position","leftClick","stopAndPrevent","noop","clearSelection","destroy","el","ctx","__qtouchhold","clearTimeout","timer","styleCleanup","name","bind","binding","__qtouchhold_destroyed","modifiers","mouse","has","touch","handler","value","mouseStart","evt","document","start","touchStart","target","mouseEvent","origin","startTime","Date","now","is","mobile","body","classList","add","withDelay","remove","setTimeout","triggered","sensitivity","mouseSensitivity","touchSensitivity","duration","move","_position","top","left","Math","abs","end","data","arg","length","split","forEach","val","index","v","parseInt","concat","mouseCapture","capture","update","oldValue","unbind"],"sources":["C:/Users/rodri/sketchProjeto/view/node_modules/quasar/src/directives/TouchHold.js"],"sourcesContent":["import { client } from '../plugins/Platform.js'\nimport { getTouchTarget } from '../utils/touch.js'\nimport { addEvt, cleanEvt, position, leftClick, stopAndPrevent, noop } from '../utils/event.js'\nimport { clearSelection } from '../utils/selection.js'\n\nfunction destroy (el) {\n  const ctx = el.__qtouchhold\n  if (ctx !== void 0) {\n    cleanEvt(ctx, 'main')\n    cleanEvt(ctx, 'temp')\n\n    clearTimeout(ctx.timer)\n    ctx.styleCleanup !== void 0 && ctx.styleCleanup()\n\n    delete el.__qtouchhold\n  }\n}\n\nexport default {\n  name: 'touch-hold',\n\n  bind (el, binding) {\n    if (el.__qtouchhold !== void 0) {\n      destroy(el)\n      el.__qtouchhold_destroyed = true\n    }\n\n    const { modifiers } = binding\n\n    // early return, we don't need to do anything\n    if (modifiers.mouse !== true && client.has.touch !== true) {\n      return\n    }\n\n    const ctx = {\n      handler: binding.value,\n      noop,\n\n      mouseStart (evt) {\n        if (typeof ctx.handler === 'function' && leftClick(evt) === true) {\n          addEvt(ctx, 'temp', [\n            [ document, 'mousemove', 'move', 'passiveCapture' ],\n            [ document, 'click', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt, true)\n        }\n      },\n\n      touchStart (evt) {\n        if (evt.target !== void 0 && typeof ctx.handler === 'function') {\n          const target = getTouchTarget(evt.target)\n          addEvt(ctx, 'temp', [\n            [ target, 'touchmove', 'move', 'passiveCapture' ],\n            [ target, 'touchcancel', 'end', 'notPassiveCapture' ],\n            [ target, 'touchend', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt)\n        }\n      },\n\n      start (evt, mouseEvent) {\n        ctx.origin = position(evt)\n\n        const startTime = Date.now()\n\n        if (client.is.mobile === true) {\n          document.body.classList.add('non-selectable')\n          clearSelection()\n\n          ctx.styleCleanup = withDelay => {\n            ctx.styleCleanup = void 0\n\n            const remove = () => {\n              document.body.classList.remove('non-selectable')\n            }\n\n            if (withDelay === true) {\n              clearSelection()\n              setTimeout(remove, 10)\n            }\n            else { remove() }\n          }\n        }\n\n        ctx.triggered = false\n        ctx.sensitivity = mouseEvent === true\n          ? ctx.mouseSensitivity\n          : ctx.touchSensitivity\n\n        ctx.timer = setTimeout(() => {\n          clearSelection()\n          ctx.triggered = true\n\n          ctx.handler({\n            evt,\n            touch: mouseEvent !== true,\n            mouse: mouseEvent === true,\n            position: ctx.origin,\n            duration: Date.now() - startTime\n          })\n        }, ctx.duration)\n      },\n\n      move (evt) {\n        const { top, left } = position(evt)\n        if (\n          Math.abs(left - ctx.origin.left) >= ctx.sensitivity ||\n          Math.abs(top - ctx.origin.top) >= ctx.sensitivity\n        ) {\n          clearTimeout(ctx.timer)\n        }\n      },\n\n      end (evt) {\n        cleanEvt(ctx, 'temp')\n\n        // delay needed otherwise selection still occurs\n        ctx.styleCleanup !== void 0 && ctx.styleCleanup(ctx.triggered)\n\n        if (ctx.triggered === true) {\n          evt !== void 0 && stopAndPrevent(evt)\n        }\n        else {\n          clearTimeout(ctx.timer)\n        }\n      }\n    }\n\n    // duration in ms, touch in pixels, mouse in pixels\n    const data = [600, 5, 7]\n\n    if (typeof binding.arg === 'string' && binding.arg.length > 0) {\n      binding.arg.split(':').forEach((val, index) => {\n        const v = parseInt(val, 10)\n        v && (data[index] = v)\n      })\n    }\n\n    [ ctx.duration, ctx.touchSensitivity, ctx.mouseSensitivity ] = data\n\n    el.__qtouchhold = ctx\n\n    modifiers.mouse === true && addEvt(ctx, 'main', [\n      [ el, 'mousedown', 'mouseStart', `passive${modifiers.mouseCapture === true ? 'Capture' : ''}` ]\n    ])\n\n    client.has.touch === true && addEvt(ctx, 'main', [\n      [ el, 'touchstart', 'touchStart', `passive${modifiers.capture === true ? 'Capture' : ''}` ],\n      [ el, 'touchend', 'noop', 'notPassiveCapture' ]\n    ])\n  },\n\n  update (el, binding) {\n    const ctx = el.__qtouchhold\n    if (ctx !== void 0 && binding.oldValue !== binding.value) {\n      typeof binding.value !== 'function' && ctx.end()\n      ctx.handler = binding.value\n    }\n  },\n\n  unbind (el) {\n    if (el.__qtouchhold_destroyed === void 0) {\n      destroy(el)\n    }\n    else {\n      delete el.__qtouchhold_destroyed\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}