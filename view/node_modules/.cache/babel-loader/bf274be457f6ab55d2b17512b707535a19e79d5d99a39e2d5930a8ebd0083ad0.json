{"ast":null,"code":"import debounce from '../utils/debounce.js';\nimport { height, offset } from '../utils/dom.js';\nimport { getScrollTarget } from '../utils/scroll.js';\nimport { listenOpts } from '../utils/event.js';\nfunction _update(ctx, _ref) {\n  var value = _ref.value,\n    oldValue = _ref.oldValue;\n  if (typeof value !== 'function') {\n    ctx.scrollTarget.removeEventListener('scroll', ctx.scroll, listenOpts.passive);\n    return;\n  }\n  ctx.handler = value;\n  if (typeof oldValue !== 'function') {\n    ctx.scrollTarget.addEventListener('scroll', ctx.scroll, listenOpts.passive);\n    ctx.scroll();\n  }\n}\nfunction destroy(el) {\n  var ctx = el.__qscrollfire;\n  if (ctx !== void 0) {\n    ctx.scrollTarget.removeEventListener('scroll', ctx.scroll, listenOpts.passive);\n    delete el.__qscrollfire;\n  }\n}\nexport default {\n  name: 'scroll-fire',\n  inserted: function inserted(el, binding) {\n    if (el.__qscrollfire !== void 0) {\n      destroy(el);\n      el.__qscrollfire_destroyed = true;\n    }\n    var ctx = {\n      scrollTarget: getScrollTarget(el),\n      scroll: debounce(function () {\n        var containerBottom, elBottom;\n        if (ctx.scrollTarget === window) {\n          elBottom = el.getBoundingClientRect().bottom;\n          containerBottom = window.innerHeight;\n        } else {\n          elBottom = offset(el).top + height(el);\n          containerBottom = offset(ctx.scrollTarget).top + height(ctx.scrollTarget);\n        }\n        if (elBottom > 0 && elBottom < containerBottom) {\n          ctx.scrollTarget.removeEventListener('scroll', ctx.scroll, listenOpts.passive);\n          ctx.handler(el);\n        }\n      }, 25)\n    };\n    _update(ctx, binding);\n    el.__qscrollfire = ctx;\n  },\n  update: function update(el, binding) {\n    if (el.__qscrollfire !== void 0 && binding.value !== binding.oldValue) {\n      _update(el.__qscrollfire, binding);\n    }\n  },\n  unbind: function unbind(el) {\n    if (el.__qscrollfire_destroyed === void 0) {\n      destroy(el);\n    } else {\n      delete el.__qscrollfire_destroyed;\n    }\n  }\n};","map":{"version":3,"names":["debounce","height","offset","getScrollTarget","listenOpts","update","ctx","_ref","value","oldValue","scrollTarget","removeEventListener","scroll","passive","handler","addEventListener","destroy","el","__qscrollfire","name","inserted","binding","__qscrollfire_destroyed","containerBottom","elBottom","window","getBoundingClientRect","bottom","innerHeight","top","unbind"],"sources":["C:/Users/rodri/projetos/sketchProjeto/view/node_modules/quasar/src/directives/ScrollFire.js"],"sourcesContent":["import debounce from '../utils/debounce.js'\nimport { height, offset } from '../utils/dom.js'\nimport { getScrollTarget } from '../utils/scroll.js'\nimport { listenOpts } from '../utils/event.js'\n\nfunction update (ctx, { value, oldValue }) {\n  if (typeof value !== 'function') {\n    ctx.scrollTarget.removeEventListener('scroll', ctx.scroll, listenOpts.passive)\n    return\n  }\n\n  ctx.handler = value\n  if (typeof oldValue !== 'function') {\n    ctx.scrollTarget.addEventListener('scroll', ctx.scroll, listenOpts.passive)\n    ctx.scroll()\n  }\n}\n\nfunction destroy (el) {\n  const ctx = el.__qscrollfire\n  if (ctx !== void 0) {\n    ctx.scrollTarget.removeEventListener('scroll', ctx.scroll, listenOpts.passive)\n    delete el.__qscrollfire\n  }\n}\n\nexport default {\n  name: 'scroll-fire',\n\n  inserted (el, binding) {\n    if (el.__qscrollfire !== void 0) {\n      destroy(el)\n      el.__qscrollfire_destroyed = true\n    }\n\n    const ctx = {\n      scrollTarget: getScrollTarget(el),\n      scroll: debounce(() => {\n        let containerBottom, elBottom\n\n        if (ctx.scrollTarget === window) {\n          elBottom = el.getBoundingClientRect().bottom\n          containerBottom = window.innerHeight\n        }\n        else {\n          elBottom = offset(el).top + height(el)\n          containerBottom = offset(ctx.scrollTarget).top + height(ctx.scrollTarget)\n        }\n\n        if (elBottom > 0 && elBottom < containerBottom) {\n          ctx.scrollTarget.removeEventListener('scroll', ctx.scroll, listenOpts.passive)\n          ctx.handler(el)\n        }\n      }, 25)\n    }\n\n    update(ctx, binding)\n\n    el.__qscrollfire = ctx\n  },\n\n  update (el, binding) {\n    if (el.__qscrollfire !== void 0 && binding.value !== binding.oldValue) {\n      update(el.__qscrollfire, binding)\n    }\n  },\n\n  unbind (el) {\n    if (el.__qscrollfire_destroyed === void 0) {\n      destroy(el)\n    }\n    else {\n      delete el.__qscrollfire_destroyed\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}