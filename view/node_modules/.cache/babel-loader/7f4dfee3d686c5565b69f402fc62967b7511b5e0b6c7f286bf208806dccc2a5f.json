{"ast":null,"code":"import _defineProperty from \"C:/Users/rodri/projetos/sketchProjeto/view/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"C:/Users/rodri/projetos/sketchProjeto/view/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/web.timers.js\";\nimport Vue from 'vue';\nimport QField from '../field/QField.js';\nimport QIcon from '../icon/QIcon.js';\nimport QChip from '../chip/QChip.js';\nimport QItem from '../item/QItem.js';\nimport QItemSection from '../item/QItemSection.js';\nimport QItemLabel from '../item/QItemLabel.js';\nimport QMenu from '../menu/QMenu.js';\nimport QDialog from '../dialog/QDialog.js';\nimport { isDeepEqual } from '../../utils/is.js';\nimport { stop, prevent, stopAndPrevent } from '../../utils/event.js';\nimport { normalizeToInterval } from '../../utils/format.js';\nimport { shouldIgnoreKey, isKeyCode } from '../../utils/key-composition.js';\nimport { mergeSlot } from '../../utils/slot.js';\nimport cache from '../../utils/cache.js';\nimport { FormFieldMixin } from '../../mixins/form.js';\nimport VirtualScroll from '../../mixins/virtual-scroll.js';\nimport CompositionMixin from '../../mixins/composition.js';\nimport ListenersMixin from '../../mixins/listeners.js';\nvar validateNewValueMode = function validateNewValueMode(v) {\n  return ['add', 'add-unique', 'toggle'].includes(v);\n};\nvar reEscapeList = '.*+?^${}()|[]\\\\';\nexport default Vue.extend({\n  name: 'QSelect',\n  mixins: [QField, VirtualScroll, CompositionMixin, FormFieldMixin, ListenersMixin],\n  props: {\n    value: {\n      required: true\n    },\n    multiple: Boolean,\n    displayValue: [String, Number],\n    displayValueSanitize: Boolean,\n    dropdownIcon: String,\n    options: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    optionValue: [Function, String],\n    optionLabel: [Function, String],\n    optionDisable: [Function, String],\n    hideSelected: Boolean,\n    hideDropdownIcon: Boolean,\n    fillInput: Boolean,\n    maxValues: [Number, String],\n    optionsDense: Boolean,\n    optionsDark: {\n      type: Boolean,\n      \"default\": null\n    },\n    optionsSelectedClass: String,\n    optionsSanitize: Boolean,\n    optionsCover: Boolean,\n    menuShrink: Boolean,\n    menuAnchor: String,\n    menuSelf: String,\n    menuOffset: Array,\n    popupContentClass: String,\n    popupContentStyle: [String, Array, Object],\n    useInput: Boolean,\n    useChips: Boolean,\n    newValueMode: {\n      type: String,\n      validator: validateNewValueMode\n    },\n    mapOptions: Boolean,\n    emitValue: Boolean,\n    inputDebounce: {\n      type: [Number, String],\n      \"default\": 500\n    },\n    inputClass: [Array, String, Object],\n    inputStyle: [Array, String, Object],\n    tabindex: {\n      type: [String, Number],\n      \"default\": 0\n    },\n    autocomplete: String,\n    transitionShow: String,\n    transitionHide: String,\n    behavior: {\n      type: String,\n      validator: function validator(v) {\n        return ['default', 'menu', 'dialog'].includes(v);\n      },\n      \"default\": 'default'\n    },\n    virtualScrollItemSize: {\n      type: [Number, String],\n      \"default\": void 0\n    }\n  },\n  data: function data() {\n    return {\n      menu: false,\n      dialog: false,\n      optionIndex: -1,\n      inputValue: '',\n      dialogFieldFocused: false\n    };\n  },\n  watch: {\n    innerValue: {\n      handler: function handler(val) {\n        this.innerValueCache = val;\n        if (this.useInput === true && this.fillInput === true && this.multiple !== true &&\n        // Prevent re-entering in filter while filtering\n        // Also prevent clearing inputValue while filtering\n        this.innerLoading !== true && (this.dialog !== true && this.menu !== true || this.hasValue !== true)) {\n          this.userInputValue !== true && this.__resetInputValue();\n          if (this.dialog === true || this.menu === true) {\n            this.filter('');\n          }\n        }\n      },\n      immediate: true\n    },\n    fillInput: function fillInput() {\n      this.__resetInputValue();\n    },\n    menu: function menu(show) {\n      this.__updateMenu(show);\n    }\n  },\n  computed: {\n    isOptionsDark: function isOptionsDark() {\n      return this.optionsDark === null ? this.isDark : this.optionsDark;\n    },\n    virtualScrollLength: function virtualScrollLength() {\n      return Array.isArray(this.options) ? this.options.length : 0;\n    },\n    fieldClass: function fieldClass() {\n      return \"q-select q-field--auto-height q-select--with\".concat(this.useInput !== true ? 'out' : '', \"-input\") + \" q-select--with\".concat(this.useChips !== true ? 'out' : '', \"-chips\") + \" q-select--\".concat(this.multiple === true ? 'multiple' : 'single');\n    },\n    computedInputClass: function computedInputClass() {\n      if (this.hideSelected === true || this.innerValue.length === 0) {\n        return this.inputClass;\n      }\n      return this.inputClass === void 0 ? 'q-field__input--padding' : [this.inputClass, 'q-field__input--padding'];\n    },\n    menuContentClass: function menuContentClass() {\n      return (this.virtualScrollHorizontal === true ? 'q-virtual-scroll--horizontal' : '') + (this.popupContentClass ? ' ' + this.popupContentClass : '');\n    },\n    innerValue: function innerValue() {\n      var _this = this;\n      var mapNull = this.mapOptions === true && this.multiple !== true,\n        val = this.value !== void 0 && (this.value !== null || mapNull === true) ? this.multiple === true && Array.isArray(this.value) ? this.value : [this.value] : [];\n      if (this.mapOptions === true && Array.isArray(this.options) === true) {\n        var _cache = this.mapOptions === true && this.innerValueCache !== void 0 ? this.innerValueCache : [];\n        var values = val.map(function (v) {\n          return _this.__getOption(v, _cache);\n        });\n        return this.value === null && mapNull === true ? values.filter(function (v) {\n          return v !== null;\n        }) : values;\n      }\n      return val;\n    },\n    noOptions: function noOptions() {\n      return this.virtualScrollLength === 0;\n    },\n    selectedString: function selectedString() {\n      var _this2 = this;\n      return this.innerValue.map(function (opt) {\n        return _this2.getOptionLabel(opt);\n      }).join(', ');\n    },\n    sanitizeFn: function sanitizeFn() {\n      return this.optionsSanitize === true ? function () {\n        return true;\n      } : function (opt) {\n        return opt !== void 0 && opt !== null && opt.sanitize === true;\n      };\n    },\n    displayAsText: function displayAsText() {\n      return this.displayValueSanitize === true || this.displayValue === void 0 && (this.optionsSanitize === true || this.innerValue.some(this.sanitizeFn));\n    },\n    computedTabindex: function computedTabindex() {\n      return this.focused === true ? this.tabindex : -1;\n    },\n    selectedScope: function selectedScope() {\n      var _this3 = this;\n      return this.innerValue.map(function (opt, i) {\n        return {\n          index: i,\n          opt: opt,\n          sanitize: _this3.sanitizeFn(opt),\n          selected: true,\n          removeAtIndex: _this3.__removeAtIndexAndFocus,\n          toggleOption: _this3.toggleOption,\n          tabindex: _this3.computedTabindex\n        };\n      });\n    },\n    optionScope: function optionScope() {\n      var _this4 = this;\n      if (this.virtualScrollLength === 0) {\n        return [];\n      }\n      var _this$virtualScrollSl = this.virtualScrollSliceRange,\n        from = _this$virtualScrollSl.from,\n        to = _this$virtualScrollSl.to;\n      var _this$__optionScopeCa = this.__optionScopeCache,\n        options = _this$__optionScopeCa.options,\n        optionEls = _this$__optionScopeCa.optionEls;\n      return this.options.slice(from, to).map(function (opt, i) {\n        var disable = _this4.isOptionDisabled(opt) === true;\n        var index = from + i;\n        var itemProps = {\n          clickable: true,\n          active: false,\n          activeClass: _this4.computedOptionsSelectedClass,\n          manualFocus: true,\n          focused: false,\n          disable: disable,\n          tabindex: -1,\n          dense: _this4.optionsDense,\n          dark: _this4.isOptionsDark\n        };\n        if (disable !== true) {\n          _this4.isOptionSelected(opt) === true && (itemProps.active = true);\n          _this4.optionIndex === index && (itemProps.focused = true);\n        }\n        var itemEvents = {\n          click: function click() {\n            _this4.toggleOption(opt);\n          }\n        };\n        if (_this4.$q.platform.is.desktop === true) {\n          itemEvents.mousemove = function () {\n            _this4.setOptionIndex(index);\n          };\n        }\n        var option = {\n          index: index,\n          opt: opt,\n          sanitize: _this4.sanitizeFn(opt),\n          selected: itemProps.active,\n          focused: itemProps.focused,\n          toggleOption: _this4.toggleOption,\n          setOptionIndex: _this4.setOptionIndex,\n          itemProps: itemProps\n        };\n        if (options[i] === void 0 || isDeepEqual(option, options[i]) !== true) {\n          options[i] = option;\n          optionEls[i] = void 0;\n        }\n        return _objectSpread(_objectSpread({}, option), {}, {\n          itemEvents: itemEvents\n        });\n      });\n    },\n    dropdownArrowIcon: function dropdownArrowIcon() {\n      return this.dropdownIcon !== void 0 ? this.dropdownIcon : this.$q.iconSet.arrow.dropdown;\n    },\n    squaredMenu: function squaredMenu() {\n      return this.optionsCover === false && this.outlined !== true && this.standout !== true && this.borderless !== true && this.rounded !== true;\n    },\n    computedOptionsSelectedClass: function computedOptionsSelectedClass() {\n      return this.optionsSelectedClass !== void 0 ? this.optionsSelectedClass : this.color !== void 0 ? \"text-\".concat(this.color) : '';\n    },\n    innerOptionsValue: function innerOptionsValue() {\n      var _this5 = this;\n      return this.innerValue.map(function (opt) {\n        return _this5.getOptionValue(opt);\n      });\n    },\n    // returns method to get value of an option;\n    // takes into account 'option-value' prop\n    getOptionValue: function getOptionValue() {\n      return this.__getPropValueFn('optionValue', 'value');\n    },\n    // returns method to get label of an option;\n    // takes into account 'option-label' prop\n    getOptionLabel: function getOptionLabel() {\n      return this.__getPropValueFn('optionLabel', 'label');\n    },\n    // returns method to tell if an option is disabled;\n    // takes into account 'option-disable' prop\n    isOptionDisabled: function isOptionDisabled() {\n      return this.__getPropValueFn('optionDisable', 'disable');\n    },\n    inputControlEvents: function inputControlEvents() {\n      var _this6 = this;\n      var on = {\n        input: this.__onInput,\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        change: this.__onChange,\n        keydown: this.__onTargetKeydown,\n        keyup: this.__onTargetAutocomplete,\n        keypress: this.__onTargetKeypress,\n        focus: this.__selectInputText,\n        click: function click(e) {\n          _this6.hasDialog === true && stop(e);\n        }\n      };\n      on.compositionstart = on.compositionupdate = on.compositionend = this.__onComposition;\n      return on;\n    },\n    virtualScrollItemSizeComputed: function virtualScrollItemSizeComputed() {\n      return this.virtualScrollItemSize === void 0 ? this.dense === true ? 24 : 48 : this.virtualScrollItemSize;\n    }\n  },\n  methods: {\n    getEmittingOptionValue: function getEmittingOptionValue(opt) {\n      return this.emitValue === true ? this.getOptionValue(opt) : opt;\n    },\n    removeAtIndex: function removeAtIndex(index) {\n      if (index > -1 && index < this.innerValue.length) {\n        if (this.multiple === true) {\n          var model = this.value.slice();\n          this.$emit('remove', {\n            index: index,\n            value: model.splice(index, 1)[0]\n          });\n          this.$emit('input', model);\n        } else {\n          this.$emit('input', null);\n        }\n      }\n    },\n    __removeAtIndexAndFocus: function __removeAtIndexAndFocus(index) {\n      this.removeAtIndex(index);\n      this.__focus();\n    },\n    add: function add(opt, unique) {\n      var val = this.getEmittingOptionValue(opt);\n      if (this.multiple !== true) {\n        this.fillInput === true && this.updateInputValue(this.getOptionLabel(opt), true, true);\n        this.$emit('input', val);\n        return;\n      }\n      if (this.innerValue.length === 0) {\n        this.$emit('add', {\n          index: 0,\n          value: val\n        });\n        this.$emit('input', this.multiple === true ? [val] : val);\n        return;\n      }\n      if (unique === true && this.isOptionSelected(opt) === true) {\n        return;\n      }\n      if (this.maxValues !== void 0 && this.value.length >= this.maxValues) {\n        return;\n      }\n      var model = this.value.slice();\n      this.$emit('add', {\n        index: model.length,\n        value: val\n      });\n      model.push(val);\n      this.$emit('input', model);\n    },\n    toggleOption: function toggleOption(opt, keepOpen) {\n      if (this.editable !== true || opt === void 0 || this.isOptionDisabled(opt) === true) {\n        return;\n      }\n      var optValue = this.getOptionValue(opt);\n      if (this.multiple !== true) {\n        if (keepOpen !== true) {\n          this.updateInputValue(this.fillInput === true ? this.getOptionLabel(opt) : '', true, true);\n          this.hidePopup();\n        }\n        this.$refs.target !== void 0 && this.$refs.target.focus();\n        if (isDeepEqual(this.getOptionValue(this.innerValue[0]), optValue) !== true) {\n          this.$emit('input', this.emitValue === true ? optValue : opt);\n        }\n        return;\n      }\n      (this.hasDialog !== true || this.dialogFieldFocused === true) && this.__focus();\n      this.__selectInputText();\n      if (this.innerValue.length === 0) {\n        var val = this.emitValue === true ? optValue : opt;\n        this.$emit('add', {\n          index: 0,\n          value: val\n        });\n        this.$emit('input', this.multiple === true ? [val] : val);\n        return;\n      }\n      var model = this.value.slice(),\n        index = this.innerOptionsValue.findIndex(function (v) {\n          return isDeepEqual(v, optValue);\n        });\n      if (index > -1) {\n        this.$emit('remove', {\n          index: index,\n          value: model.splice(index, 1)[0]\n        });\n      } else {\n        if (this.maxValues !== void 0 && model.length >= this.maxValues) {\n          return;\n        }\n        var _val = this.emitValue === true ? optValue : opt;\n        this.$emit('add', {\n          index: model.length,\n          value: _val\n        });\n        model.push(_val);\n      }\n      this.$emit('input', model);\n    },\n    setOptionIndex: function setOptionIndex(index) {\n      if (this.$q.platform.is.desktop !== true) {\n        return;\n      }\n      var val = index > -1 && index < this.virtualScrollLength ? index : -1;\n      if (this.optionIndex !== val) {\n        this.optionIndex = val;\n      }\n    },\n    moveOptionSelection: function moveOptionSelection() {\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var skipInputValue = arguments.length > 1 ? arguments[1] : undefined;\n      if (this.menu === true) {\n        var index = this.optionIndex;\n        do {\n          index = normalizeToInterval(index + offset, -1, this.virtualScrollLength - 1);\n        } while (index !== -1 && index !== this.optionIndex && this.isOptionDisabled(this.options[index]) === true);\n        if (this.optionIndex !== index) {\n          this.setOptionIndex(index);\n          this.scrollTo(index);\n          if (skipInputValue !== true && this.useInput === true && this.fillInput === true) {\n            this.__setInputValue(index >= 0 ? this.getOptionLabel(this.options[index]) : this.defaultInputValue);\n          }\n        }\n      }\n    },\n    __getOption: function __getOption(value, innerValueCache) {\n      var _this7 = this;\n      var fn = function fn(opt) {\n        return isDeepEqual(_this7.getOptionValue(opt), value);\n      };\n      return this.options.find(fn) || innerValueCache.find(fn) || value;\n    },\n    __getPropValueFn: function __getPropValueFn(propName, defaultVal) {\n      var val = this[propName] !== void 0 ? this[propName] : defaultVal;\n      return typeof val === 'function' ? val : function (opt) {\n        return Object(opt) === opt && val in opt ? opt[val] : opt;\n      };\n    },\n    isOptionSelected: function isOptionSelected(opt) {\n      var val = this.getOptionValue(opt);\n      return this.innerOptionsValue.find(function (v) {\n        return isDeepEqual(v, val);\n      }) !== void 0;\n    },\n    __selectInputText: function __selectInputText() {\n      if (this.useInput === true && this.$refs.target !== void 0) {\n        this.$refs.target.select();\n      }\n    },\n    __onTargetKeyup: function __onTargetKeyup(e) {\n      // if ESC and we have an opened menu\n      // then stop propagation (might be caught by a QDialog\n      // and so it will also close the QDialog, which is wrong)\n      if (isKeyCode(e, 27) === true && this.menu === true) {\n        stop(e);\n        // on ESC we need to close the dialog also\n        this.hidePopup();\n        this.__resetInputValue();\n      }\n      this.$emit('keyup', e);\n    },\n    __onTargetAutocomplete: function __onTargetAutocomplete(e) {\n      var _this8 = this;\n      var value = e.target.value;\n      if (e.keyCode !== void 0) {\n        this.__onTargetKeyup(e);\n        return;\n      }\n      e.target.value = '';\n      clearTimeout(this.inputTimer);\n      this.__resetInputValue();\n      if (typeof value === 'string' && value.length > 0) {\n        var needle = value.toLocaleLowerCase();\n        var fn = function fn(opt) {\n          return _this8.getOptionValue(opt).toLocaleLowerCase() === needle;\n        };\n        var option = this.options.find(fn);\n        if (option !== void 0) {\n          if (this.innerValue.indexOf(option) === -1) {\n            this.toggleOption(option);\n          } else {\n            this.hidePopup();\n          }\n        } else {\n          fn = function fn(opt) {\n            return _this8.getOptionLabel(opt).toLocaleLowerCase() === needle;\n          };\n          option = this.options.find(fn);\n          if (option !== void 0) {\n            if (this.innerValue.indexOf(option) === -1) {\n              this.toggleOption(option);\n            } else {\n              this.hidePopup();\n            }\n          } else {\n            this.filter(value, true);\n          }\n        }\n      } else {\n        this.__clearValue(e);\n      }\n    },\n    __onTargetKeypress: function __onTargetKeypress(e) {\n      this.$emit('keypress', e);\n    },\n    __onTargetKeydown: function __onTargetKeydown(e) {\n      var _this9 = this;\n      this.$emit('keydown', e);\n      if (shouldIgnoreKey(e) === true) {\n        return;\n      }\n      var newValueModeValid = this.inputValue.length > 0 && (this.newValueMode !== void 0 || this.qListeners['new-value'] !== void 0);\n      var tabShouldSelect = e.shiftKey !== true && this.multiple !== true && (this.optionIndex > -1 || newValueModeValid === true);\n\n      // escape\n      if (e.keyCode === 27) {\n        prevent(e); // prevent clearing the inputValue\n        return;\n      }\n\n      // tab\n      if (e.keyCode === 9 && tabShouldSelect === false) {\n        this.__closeMenu();\n        return;\n      }\n      if (e.target === void 0 || e.target.id !== this.targetUid) {\n        return;\n      }\n\n      // down\n      if (e.keyCode === 40 && this.innerLoading !== true && this.menu === false) {\n        stopAndPrevent(e);\n        this.showPopup();\n        return;\n      }\n\n      // backspace\n      if (e.keyCode === 8 && this.hideSelected !== true && this.inputValue.length === 0) {\n        if (this.multiple === true && Array.isArray(this.value)) {\n          this.removeAtIndex(this.value.length - 1);\n        } else if (this.multiple !== true && this.value !== null) {\n          this.$emit('input', null);\n        }\n        return;\n      }\n\n      // home, end - 36, 35\n      if ((e.keyCode === 35 || e.keyCode === 36) && (typeof this.inputValue !== 'string' || this.inputValue.length === 0)) {\n        stopAndPrevent(e);\n        this.optionIndex = -1;\n        this.moveOptionSelection(e.keyCode === 36 ? 1 : -1, this.multiple);\n      }\n\n      // pg up, pg down - 33, 34\n      if ((e.keyCode === 33 || e.keyCode === 34) && this.virtualScrollSliceSizeComputed !== void 0) {\n        stopAndPrevent(e);\n        this.optionIndex = Math.max(-1, Math.min(this.virtualScrollLength, this.optionIndex + (e.keyCode === 33 ? -1 : 1) * this.virtualScrollSliceSizeComputed.view));\n        this.moveOptionSelection(e.keyCode === 33 ? 1 : -1, this.multiple);\n      }\n\n      // up, down\n      if (e.keyCode === 38 || e.keyCode === 40) {\n        stopAndPrevent(e);\n        this.moveOptionSelection(e.keyCode === 38 ? -1 : 1, this.multiple);\n      }\n      var optionsLength = this.virtualScrollLength;\n\n      // clear search buffer if expired\n      if (this.searchBuffer === void 0 || this.searchBufferExp < Date.now()) {\n        this.searchBuffer = '';\n      }\n\n      // keyboard search when not having use-input\n      if (optionsLength > 0 && this.useInput !== true && e.key !== void 0 && e.key.length === 1 &&\n      // printable char\n      e.altKey === e.ctrlKey && (\n      // not kbd shortcut\n      e.keyCode !== 32 || this.searchBuffer.length > 0) // space in middle of search\n      ) {\n        this.menu !== true && this.showPopup(e);\n        var _char = e.key.toLocaleLowerCase(),\n          keyRepeat = this.searchBuffer.length === 1 && this.searchBuffer[0] === _char;\n        this.searchBufferExp = Date.now() + 1500;\n        if (keyRepeat === false) {\n          stopAndPrevent(e);\n          this.searchBuffer += _char;\n        }\n        var searchRe = new RegExp('^' + this.searchBuffer.split('').map(function (l) {\n          return reEscapeList.indexOf(l) > -1 ? '\\\\' + l : l;\n        }).join('.*'), 'i');\n        var index = this.optionIndex;\n        if (keyRepeat === true || index < 0 || searchRe.test(this.getOptionLabel(this.options[index])) !== true) {\n          do {\n            index = normalizeToInterval(index + 1, -1, optionsLength - 1);\n          } while (index !== this.optionIndex && (this.isOptionDisabled(this.options[index]) === true || searchRe.test(this.getOptionLabel(this.options[index])) !== true));\n        }\n        if (this.optionIndex !== index) {\n          this.$nextTick(function () {\n            _this9.setOptionIndex(index);\n            _this9.scrollTo(index);\n            if (index >= 0 && _this9.useInput === true && _this9.fillInput === true) {\n              _this9.__setInputValue(_this9.getOptionLabel(_this9.options[index]));\n            }\n          });\n        }\n        return;\n      }\n\n      // enter, space (when not using use-input and not in search), or tab (when not using multiple and option selected)\n      // same target is checked above\n      if (e.keyCode !== 13 && (e.keyCode !== 32 || this.useInput === true || this.searchBuffer !== '') && (e.keyCode !== 9 || tabShouldSelect === false)) {\n        return;\n      }\n      e.keyCode !== 9 && stopAndPrevent(e);\n      if (this.optionIndex > -1 && this.optionIndex < optionsLength) {\n        this.toggleOption(this.options[this.optionIndex]);\n        return;\n      }\n      if (newValueModeValid === true) {\n        var done = function done(val, mode) {\n          if (mode) {\n            if (validateNewValueMode(mode) !== true) {\n              return;\n            }\n          } else {\n            mode = _this9.newValueMode;\n          }\n          if (val === void 0 || val === null) {\n            return;\n          }\n          _this9.updateInputValue('', _this9.multiple !== true, true);\n          _this9[mode === 'toggle' ? 'toggleOption' : 'add'](val, mode === 'add-unique');\n          if (_this9.multiple !== true) {\n            _this9.$refs.target !== void 0 && _this9.$refs.target.focus();\n            _this9.hidePopup();\n          }\n        };\n        if (this.qListeners['new-value'] !== void 0) {\n          this.$emit('new-value', this.inputValue, done);\n        } else {\n          done(this.inputValue);\n        }\n        if (this.multiple !== true) {\n          return;\n        }\n      }\n      if (this.menu === true) {\n        this.__closeMenu();\n      } else if (this.innerLoading !== true) {\n        this.showPopup();\n      }\n    },\n    __getVirtualScrollEl: function __getVirtualScrollEl() {\n      return this.hasDialog === true ? this.$refs.menuContent : this.$refs.menu !== void 0 && this.$refs.menu.__portal !== void 0 ? this.$refs.menu.__portal.$el : void 0;\n    },\n    __getVirtualScrollTarget: function __getVirtualScrollTarget() {\n      return this.__getVirtualScrollEl();\n    },\n    __getSelection: function __getSelection(h) {\n      var _this10 = this;\n      if (this.hideSelected === true) {\n        return [];\n      }\n      if (this.$scopedSlots['selected-item'] !== void 0) {\n        return this.selectedScope.map(function (scope) {\n          return _this10.$scopedSlots['selected-item'](scope);\n        }).slice();\n      }\n      if (this.$scopedSlots.selected !== void 0) {\n        return this.$scopedSlots.selected().slice();\n      }\n      if (this.useChips === true) {\n        return this.selectedScope.map(function (scope, i) {\n          return h(QChip, {\n            key: 'option-' + i,\n            props: {\n              removable: _this10.editable === true && _this10.isOptionDisabled(scope.opt) !== true,\n              dense: true,\n              textColor: _this10.color,\n              tabindex: _this10.computedTabindex\n            },\n            on: cache(_this10, 'rem#' + i, {\n              remove: function remove() {\n                scope.removeAtIndex(i);\n              }\n            })\n          }, [h('span', {\n            staticClass: 'ellipsis',\n            domProps: _defineProperty({}, scope.sanitize === true ? 'textContent' : 'innerHTML', _this10.getOptionLabel(scope.opt))\n          })]);\n        });\n      }\n      return [h('span', {\n        domProps: _defineProperty({}, this.displayAsText ? 'textContent' : 'innerHTML', this.displayValue !== void 0 ? this.displayValue : this.selectedString)\n      })];\n    },\n    __getControl: function __getControl(h, fromDialog) {\n      var child = this.__getSelection(h);\n      var isTarget = fromDialog === true || this.dialog !== true || this.hasDialog !== true;\n      if (this.useInput === true) {\n        child.push(this.__getInput(h, fromDialog, isTarget));\n      }\n      // there can be only one (when dialog is opened the control in dialog should be target)\n      else if (this.editable === true && isTarget === true) {\n        child.push(h('div', {\n          ref: 'target',\n          key: 'd_t',\n          staticClass: 'no-outline',\n          attrs: {\n            id: this.targetUid,\n            tabindex: this.tabindex\n          },\n          on: cache(this, 'f-tget', {\n            keydown: this.__onTargetKeydown,\n            keyup: this.__onTargetKeyup,\n            keypress: this.__onTargetKeypress\n          })\n        }));\n        if (typeof this.autocomplete === 'string' && this.autocomplete.length > 0) {\n          child.push(h('input', {\n            staticClass: 'q-select__autocomplete-input no-outline',\n            attrs: {\n              autocomplete: this.autocomplete\n            },\n            on: cache(this, 'autoinp', {\n              keyup: this.__onTargetAutocomplete\n            })\n          }));\n        }\n      }\n      if (this.nameProp !== void 0 && this.disable !== true && this.innerOptionsValue.length > 0) {\n        var opts = this.innerOptionsValue.map(function (value) {\n          return h('option', {\n            attrs: {\n              value: value,\n              selected: true\n            }\n          });\n        });\n        child.push(h('select', {\n          staticClass: 'hidden',\n          attrs: {\n            name: this.nameProp,\n            multiple: this.multiple\n          }\n        }, opts));\n      }\n      return h('div', {\n        staticClass: 'q-field__native row items-center',\n        attrs: this.qAttrs\n      }, child);\n    },\n    __getOptions: function __getOptions(h) {\n      var _this11 = this;\n      if (this.menu !== true) {\n        return void 0;\n      }\n      if (this.$scopedSlots.option !== void 0 && this.__optionScopeCache.optionSlot !== this.$scopedSlots.option) {\n        this.__optionScopeCache.optionSlot = this.$scopedSlots.option;\n        this.__optionScopeCache.optionEls = [];\n      }\n      var fn = this.$scopedSlots.option !== void 0 ? this.$scopedSlots.option : function (scope) {\n        return h(QItem, {\n          key: scope.index,\n          props: scope.itemProps,\n          on: scope.itemEvents\n        }, [h(QItemSection, [h(QItemLabel, {\n          domProps: _defineProperty({}, scope.sanitize === true ? 'textContent' : 'innerHTML', _this11.getOptionLabel(scope.opt))\n        })])]);\n      };\n      var optionEls = this.__optionScopeCache.optionEls;\n      var options = this.__padVirtualScroll(h, 'div', this.optionScope.map(function (scope, i) {\n        if (optionEls[i] === void 0) {\n          optionEls[i] = fn(scope);\n        }\n        return optionEls[i];\n      }));\n      if (this.$scopedSlots['before-options'] !== void 0) {\n        options = this.$scopedSlots['before-options']().concat(options);\n      }\n      return mergeSlot(options, this, 'after-options');\n    },\n    __getInnerAppend: function __getInnerAppend(h) {\n      return this.loading !== true && this.innerLoadingIndicator !== true && this.hideDropdownIcon !== true ? [h(QIcon, {\n        staticClass: 'q-select__dropdown-icon' + (this.menu === true ? ' rotate-180' : ''),\n        props: {\n          name: this.dropdownArrowIcon\n        }\n      })] : null;\n    },\n    __getInput: function __getInput(h, fromDialog, isTarget) {\n      var options = {\n        ref: isTarget === true ? 'target' : void 0,\n        key: 'i_t',\n        staticClass: 'q-field__input q-placeholder col',\n        style: this.inputStyle,\n        \"class\": this.computedInputClass,\n        domProps: {\n          value: this.inputValue !== void 0 ? this.inputValue : ''\n        },\n        attrs: _objectSpread(_objectSpread({\n          // required for Android in order to show ENTER key when in form\n          type: 'search'\n        }, this.qAttrs), {}, {\n          id: this.targetUid,\n          maxlength: this.maxlength,\n          // this is converted to prop by QField\n          tabindex: this.tabindex,\n          autocomplete: this.autocomplete,\n          'data-autofocus': fromDialog === true ? false : this.autofocus,\n          disabled: this.disable === true,\n          readonly: this.readonly === true\n        }),\n        on: this.inputControlEvents\n      };\n      if (fromDialog !== true && this.hasDialog === true) {\n        options.staticClass += ' no-pointer-events';\n      }\n      return h('input', options);\n    },\n    __onChange: function __onChange(e) {\n      this.__onComposition(e);\n    },\n    __onInput: function __onInput(e) {\n      var _this12 = this;\n      clearTimeout(this.inputTimer);\n      if (e && e.target && e.target.composing === true) {\n        return;\n      }\n      this.__setInputValue(e.target.value || '');\n      // mark it here as user input so that if updateInputValue is called\n      // before filter is called the indicator is reset\n      this.userInputValue = true;\n      this.defaultInputValue = this.inputValue;\n      if (this.focused !== true && (this.hasDialog !== true || this.dialogFieldFocused === true)) {\n        this.__focus();\n      }\n      if (this.qListeners.filter !== void 0) {\n        this.inputTimer = setTimeout(function () {\n          _this12.filter(_this12.inputValue);\n        }, this.inputDebounce);\n      }\n    },\n    __setInputValue: function __setInputValue(inputValue) {\n      if (this.inputValue !== inputValue) {\n        this.inputValue = inputValue;\n        this.$emit('input-value', inputValue);\n      }\n    },\n    updateInputValue: function updateInputValue(val, noFiltering, internal) {\n      this.userInputValue = internal !== true;\n      if (this.useInput === true) {\n        this.__setInputValue(val);\n        if (noFiltering === true || internal !== true) {\n          this.defaultInputValue = val;\n        }\n        noFiltering !== true && this.filter(val);\n      }\n    },\n    filter: function filter(val, keepClosed) {\n      var _this13 = this;\n      if (this.qListeners.filter === void 0 || keepClosed !== true && this.focused !== true) {\n        return;\n      }\n      if (this.innerLoading === true) {\n        this.$emit('filter-abort');\n      } else {\n        this.innerLoading = true;\n        this.innerLoadingIndicator = true;\n      }\n      if (val !== '' && this.multiple !== true && this.innerValue.length > 0 && this.userInputValue !== true && val === this.getOptionLabel(this.innerValue[0])) {\n        val = '';\n      }\n      var filterId = setTimeout(function () {\n        _this13.menu === true && (_this13.menu = false);\n      }, 10);\n      clearTimeout(this.filterId);\n      this.filterId = filterId;\n      this.$emit('filter', val, function (fn, afterFn) {\n        if ((keepClosed === true || _this13.focused === true) && _this13.filterId === filterId) {\n          clearTimeout(_this13.filterId);\n          typeof fn === 'function' && fn();\n\n          // hide indicator to allow arrow to animate\n          _this13.innerLoadingIndicator = false;\n          _this13.$nextTick(function () {\n            _this13.innerLoading = false;\n            if (_this13.editable === true) {\n              if (keepClosed === true) {\n                _this13.menu === true && _this13.hidePopup();\n              } else if (_this13.menu === true) {\n                _this13.__updateMenu(true);\n              } else {\n                _this13.menu = true;\n              }\n            }\n            typeof afterFn === 'function' && _this13.$nextTick(function () {\n              afterFn(_this13);\n            });\n          });\n        }\n      }, function () {\n        if (_this13.focused === true && _this13.filterId === filterId) {\n          clearTimeout(_this13.filterId);\n          _this13.innerLoading = false;\n          _this13.innerLoadingIndicator = false;\n        }\n        _this13.menu === true && (_this13.menu = false);\n      });\n    },\n    __getControlEvents: function __getControlEvents() {\n      var _this14 = this;\n      var focusout = function focusout(e) {\n        _this14.__onControlFocusout(e, function () {\n          _this14.__resetInputValue();\n          _this14.__closeMenu();\n        });\n      };\n      return {\n        focusin: this.__onControlFocusin,\n        focusout: focusout,\n        'popup-show': this.__onControlPopupShow,\n        'popup-hide': function popupHide(e) {\n          e !== void 0 && stop(e);\n          _this14.$emit('popup-hide', e);\n          _this14.hasPopupOpen = false;\n          focusout(e);\n        },\n        click: function click(e) {\n          if (_this14.hasDialog !== true) {\n            // label from QField will propagate click on the input (except IE)\n            prevent(e);\n            if (_this14.menu === true) {\n              _this14.__closeMenu();\n              _this14.$refs.target !== void 0 && _this14.$refs.target.focus();\n              return;\n            }\n          }\n          _this14.showPopup(e);\n        }\n      };\n    },\n    __getControlChild: function __getControlChild(h) {\n      if (this.editable !== false && (this.dialog === true ||\n      // dialog always has menu displayed, so need to render it\n      this.noOptions !== true || this.$scopedSlots['no-option'] !== void 0)) {\n        return this[\"__get\".concat(this.hasDialog === true ? 'Dialog' : 'Menu')](h);\n      }\n    },\n    __getMenu: function __getMenu(h) {\n      var child = this.noOptions === true ? this.$scopedSlots['no-option'] !== void 0 ? this.$scopedSlots['no-option']({\n        inputValue: this.inputValue\n      }) : null : this.__getOptions(h);\n      return h(QMenu, {\n        ref: 'menu',\n        props: {\n          value: this.menu,\n          fit: this.menuShrink !== true,\n          cover: this.optionsCover === true && this.noOptions !== true && this.useInput !== true,\n          anchor: this.menuAnchor,\n          self: this.menuSelf,\n          offset: this.menuOffset,\n          contentClass: this.menuContentClass,\n          contentStyle: this.popupContentStyle,\n          dark: this.isOptionsDark,\n          noParentEvent: true,\n          noRefocus: true,\n          noFocus: true,\n          square: this.squaredMenu,\n          transitionShow: this.transitionShow,\n          transitionHide: this.transitionHide,\n          separateClosePopup: true\n        },\n        on: cache(this, 'menu', {\n          '&scroll': this.__onVirtualScrollEvt,\n          'before-hide': this.__closeMenu,\n          show: this.__onMenuShow\n        })\n      }, child);\n    },\n    __onMenuShow: function __onMenuShow() {\n      this.__setVirtualScrollSize();\n    },\n    __onDialogFieldFocus: function __onDialogFieldFocus(e) {\n      stop(e);\n      this.$refs.target !== void 0 && this.$refs.target.focus();\n      this.dialogFieldFocused = true;\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, 0);\n    },\n    __onDialogFieldBlur: function __onDialogFieldBlur(e) {\n      var _this15 = this;\n      stop(e);\n      this.$nextTick(function () {\n        _this15.dialogFieldFocused = false;\n      });\n    },\n    __getDialog: function __getDialog(h) {\n      var _this16 = this;\n      var content = [h(QField, {\n        staticClass: \"col-auto \".concat(this.fieldClass),\n        props: _objectSpread(_objectSpread({}, this.$props), {}, {\n          \"for\": this.targetUid,\n          dark: this.isOptionsDark,\n          square: true,\n          filled: true,\n          itemAligned: false,\n          loading: this.innerLoadingIndicator,\n          stackLabel: this.inputValue.length > 0\n        }),\n        on: _objectSpread(_objectSpread({}, this.qListeners), {}, {\n          focus: this.__onDialogFieldFocus,\n          blur: this.__onDialogFieldBlur\n        }),\n        scopedSlots: _objectSpread(_objectSpread({}, this.$scopedSlots), {}, {\n          rawControl: function rawControl() {\n            return _this16.__getControl(h, true);\n          },\n          before: void 0,\n          after: void 0\n        })\n      })];\n      this.menu === true && content.push(h('div', {\n        ref: 'menuContent',\n        staticClass: 'scroll',\n        \"class\": this.menuContentClass,\n        style: this.popupContentStyle,\n        on: cache(this, 'virtMenu', {\n          click: prevent,\n          '&scroll': this.__onVirtualScrollEvt\n        })\n      }, this.noOptions === true ? this.$scopedSlots['no-option'] !== void 0 ? this.$scopedSlots['no-option']({\n        inputValue: this.inputValue\n      }) : null : this.__getOptions(h)));\n      return h(QDialog, {\n        ref: 'dialog',\n        props: {\n          value: this.dialog,\n          dark: this.isOptionsDark,\n          position: this.useInput === true ? 'top' : void 0,\n          transitionShow: this.transitionShowComputed,\n          transitionHide: this.transitionHide\n        },\n        on: cache(this, 'dialog', {\n          'before-hide': this.__onDialogBeforeHide,\n          hide: this.__onDialogHide,\n          show: this.__onDialogShow\n        })\n      }, [h('div', {\n        staticClass: 'q-select__dialog' + (this.isOptionsDark === true ? ' q-select__dialog--dark q-dark' : '') + (this.dialogFieldFocused === true ? ' q-select__dialog--focused' : '')\n      }, content)]);\n    },\n    __onDialogBeforeHide: function __onDialogBeforeHide() {\n      this.$refs.dialog.__refocusTarget = this.$el.querySelector('.q-field__native > [tabindex]:last-child');\n      this.focused = false;\n    },\n    __onDialogHide: function __onDialogHide(e) {\n      this.hidePopup();\n      this.focused === false && this.$emit('blur', e);\n      this.__resetInputValue();\n    },\n    __onDialogShow: function __onDialogShow() {\n      var el = document.activeElement;\n      // IE can have null document.activeElement\n      if ((el === null || el.id !== this.targetUid) && this.$refs.target !== el && this.$refs.target !== void 0) {\n        this.$refs.target.focus();\n      }\n      this.__setVirtualScrollSize();\n    },\n    __closeMenu: function __closeMenu() {\n      if (this.__optionScopeCache !== void 0) {\n        this.__optionScopeCache.optionEls = [];\n      }\n      if (this.dialog === true) {\n        return;\n      }\n      this.optionIndex = -1;\n      if (this.menu === true) {\n        this.menu = false;\n      }\n      if (this.focused === false) {\n        clearTimeout(this.filterId);\n        this.filterId = void 0;\n        if (this.innerLoading === true) {\n          this.$emit('filter-abort');\n          this.innerLoading = false;\n          this.innerLoadingIndicator = false;\n        }\n      }\n    },\n    showPopup: function showPopup(e) {\n      var _this17 = this;\n      if (this.editable !== true) {\n        return;\n      }\n      if (this.hasDialog === true) {\n        this.__onControlFocusin(e);\n        this.dialog = true;\n        this.$nextTick(function () {\n          _this17.__focus();\n        });\n      } else {\n        this.__focus();\n      }\n      if (this.qListeners.filter !== void 0) {\n        this.filter(this.inputValue);\n      } else if (this.noOptions !== true || this.$scopedSlots['no-option'] !== void 0) {\n        this.menu = true;\n      }\n    },\n    hidePopup: function hidePopup() {\n      this.dialog = false;\n      this.__closeMenu();\n    },\n    __resetInputValue: function __resetInputValue() {\n      this.useInput === true && this.updateInputValue(this.multiple !== true && this.fillInput === true && this.innerValue.length > 0 ? this.getOptionLabel(this.innerValue[0]) || '' : '', true, true);\n    },\n    __updateMenu: function __updateMenu(show) {\n      var _this18 = this;\n      var optionIndex = -1;\n      if (show === true) {\n        if (this.innerValue.length > 0) {\n          var val = this.getOptionValue(this.innerValue[0]);\n          optionIndex = this.options.findIndex(function (v) {\n            return isDeepEqual(_this18.getOptionValue(v), val);\n          });\n        }\n        this.__resetVirtualScroll(optionIndex);\n      }\n      this.setOptionIndex(optionIndex);\n    },\n    __onPreRender: function __onPreRender() {\n      this.hasDialog = this.$q.platform.is.mobile !== true && this.behavior !== 'dialog' ? false : this.behavior !== 'menu' && (this.useInput === true ? this.$scopedSlots['no-option'] !== void 0 || this.qListeners.filter !== void 0 || this.noOptions === false : true);\n      this.transitionShowComputed = this.hasDialog === true && this.useInput === true && this.$q.platform.is.ios === true ? 'fade' : this.transitionShow;\n    },\n    __onPostRender: function __onPostRender() {\n      if (this.dialog === false && this.$refs.menu !== void 0) {\n        this.$refs.menu.updatePosition();\n      }\n    },\n    updateMenuPosition: function updateMenuPosition() {\n      this.__onPostRender();\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.__optionScopeCache = {\n      optionSlot: this.$scopedSlots.option,\n      options: [],\n      optionEls: []\n    };\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.__optionScopeCache = void 0;\n    clearTimeout(this.inputTimer);\n  }\n});","map":{"version":3,"names":["Vue","QField","QIcon","QChip","QItem","QItemSection","QItemLabel","QMenu","QDialog","isDeepEqual","stop","prevent","stopAndPrevent","normalizeToInterval","shouldIgnoreKey","isKeyCode","mergeSlot","cache","FormFieldMixin","VirtualScroll","CompositionMixin","ListenersMixin","validateNewValueMode","v","includes","reEscapeList","extend","name","mixins","props","value","required","multiple","Boolean","displayValue","String","Number","displayValueSanitize","dropdownIcon","options","type","Array","_default","optionValue","Function","optionLabel","optionDisable","hideSelected","hideDropdownIcon","fillInput","maxValues","optionsDense","optionsDark","optionsSelectedClass","optionsSanitize","optionsCover","menuShrink","menuAnchor","menuSelf","menuOffset","popupContentClass","popupContentStyle","Object","useInput","useChips","newValueMode","validator","mapOptions","emitValue","inputDebounce","inputClass","inputStyle","tabindex","autocomplete","transitionShow","transitionHide","behavior","virtualScrollItemSize","data","menu","dialog","optionIndex","inputValue","dialogFieldFocused","watch","innerValue","handler","val","innerValueCache","innerLoading","hasValue","userInputValue","__resetInputValue","filter","immediate","show","__updateMenu","computed","isOptionsDark","isDark","virtualScrollLength","isArray","length","fieldClass","concat","computedInputClass","menuContentClass","virtualScrollHorizontal","_this","mapNull","values","map","__getOption","noOptions","selectedString","_this2","opt","getOptionLabel","join","sanitizeFn","sanitize","displayAsText","some","computedTabindex","focused","selectedScope","_this3","i","index","selected","removeAtIndex","__removeAtIndexAndFocus","toggleOption","optionScope","_this4","_this$virtualScrollSl","virtualScrollSliceRange","from","to","_this$__optionScopeCa","__optionScopeCache","optionEls","slice","disable","isOptionDisabled","itemProps","clickable","active","activeClass","computedOptionsSelectedClass","manualFocus","dense","dark","isOptionSelected","itemEvents","click","$q","platform","is","desktop","mousemove","setOptionIndex","option","_objectSpread","dropdownArrowIcon","iconSet","arrow","dropdown","squaredMenu","outlined","standout","borderless","rounded","color","innerOptionsValue","_this5","getOptionValue","__getPropValueFn","inputControlEvents","_this6","on","input","__onInput","change","__onChange","keydown","__onTargetKeydown","keyup","__onTargetAutocomplete","keypress","__onTargetKeypress","focus","__selectInputText","e","hasDialog","compositionstart","compositionupdate","compositionend","__onComposition","virtualScrollItemSizeComputed","methods","getEmittingOptionValue","model","$emit","splice","__focus","add","unique","updateInputValue","push","keepOpen","editable","optValue","hidePopup","$refs","target","findIndex","moveOptionSelection","offset","arguments","undefined","skipInputValue","scrollTo","__setInputValue","defaultInputValue","_this7","fn","find","propName","defaultVal","select","__onTargetKeyup","_this8","keyCode","clearTimeout","inputTimer","needle","toLocaleLowerCase","indexOf","__clearValue","_this9","newValueModeValid","qListeners","tabShouldSelect","shiftKey","__closeMenu","id","targetUid","showPopup","virtualScrollSliceSizeComputed","Math","max","min","view","optionsLength","searchBuffer","searchBufferExp","Date","now","key","altKey","ctrlKey","char","keyRepeat","searchRe","RegExp","split","l","test","$nextTick","done","mode","__getVirtualScrollEl","menuContent","__portal","$el","__getVirtualScrollTarget","__getSelection","h","_this10","$scopedSlots","scope","removable","textColor","remove","staticClass","domProps","_defineProperty","__getControl","fromDialog","child","isTarget","__getInput","ref","attrs","nameProp","opts","qAttrs","__getOptions","_this11","optionSlot","__padVirtualScroll","__getInnerAppend","loading","innerLoadingIndicator","style","maxlength","autofocus","disabled","readonly","_this12","composing","setTimeout","noFiltering","internal","keepClosed","_this13","filterId","afterFn","__getControlEvents","_this14","focusout","__onControlFocusout","focusin","__onControlFocusin","__onControlPopupShow","popupHide","hasPopupOpen","__getControlChild","__getMenu","fit","cover","anchor","self","contentClass","contentStyle","noParentEvent","noRefocus","noFocus","square","separateClosePopup","__onVirtualScrollEvt","__onMenuShow","__setVirtualScrollSize","__onDialogFieldFocus","window","pageXOffset","scrollX","document","body","scrollLeft","__onDialogFieldBlur","_this15","__getDialog","_this16","content","$props","filled","itemAligned","stackLabel","blur","scopedSlots","rawControl","before","after","position","transitionShowComputed","__onDialogBeforeHide","hide","__onDialogHide","__onDialogShow","__refocusTarget","querySelector","el","activeElement","_this17","_this18","__resetVirtualScroll","__onPreRender","mobile","ios","__onPostRender","updatePosition","updateMenuPosition","beforeMount","beforeDestroy"],"sources":["C:/Users/rodri/projetos/sketchProjeto/view/node_modules/quasar/src/components/select/QSelect.js"],"sourcesContent":["import Vue from 'vue'\n\nimport QField from '../field/QField.js'\nimport QIcon from '../icon/QIcon.js'\nimport QChip from '../chip/QChip.js'\n\nimport QItem from '../item/QItem.js'\nimport QItemSection from '../item/QItemSection.js'\nimport QItemLabel from '../item/QItemLabel.js'\n\nimport QMenu from '../menu/QMenu.js'\nimport QDialog from '../dialog/QDialog.js'\n\nimport { isDeepEqual } from '../../utils/is.js'\nimport { stop, prevent, stopAndPrevent } from '../../utils/event.js'\nimport { normalizeToInterval } from '../../utils/format.js'\nimport { shouldIgnoreKey, isKeyCode } from '../../utils/key-composition.js'\nimport { mergeSlot } from '../../utils/slot.js'\nimport cache from '../../utils/cache.js'\n\nimport { FormFieldMixin } from '../../mixins/form.js'\nimport VirtualScroll from '../../mixins/virtual-scroll.js'\nimport CompositionMixin from '../../mixins/composition.js'\nimport ListenersMixin from '../../mixins/listeners.js'\n\nconst validateNewValueMode = v => ['add', 'add-unique', 'toggle'].includes(v)\nconst reEscapeList = '.*+?^${}()|[]\\\\'\n\nexport default Vue.extend({\n  name: 'QSelect',\n\n  mixins: [\n    QField,\n    VirtualScroll,\n    CompositionMixin,\n    FormFieldMixin,\n    ListenersMixin\n  ],\n\n  props: {\n    value: {\n      required: true\n    },\n\n    multiple: Boolean,\n\n    displayValue: [String, Number],\n    displayValueSanitize: Boolean,\n    dropdownIcon: String,\n\n    options: {\n      type: Array,\n      default: () => []\n    },\n\n    optionValue: [Function, String],\n    optionLabel: [Function, String],\n    optionDisable: [Function, String],\n\n    hideSelected: Boolean,\n    hideDropdownIcon: Boolean,\n    fillInput: Boolean,\n\n    maxValues: [Number, String],\n\n    optionsDense: Boolean,\n    optionsDark: {\n      type: Boolean,\n      default: null\n    },\n    optionsSelectedClass: String,\n    optionsSanitize: Boolean,\n\n    optionsCover: Boolean,\n\n    menuShrink: Boolean,\n    menuAnchor: String,\n    menuSelf: String,\n    menuOffset: Array,\n\n    popupContentClass: String,\n    popupContentStyle: [String, Array, Object],\n\n    useInput: Boolean,\n    useChips: Boolean,\n\n    newValueMode: {\n      type: String,\n      validator: validateNewValueMode\n    },\n\n    mapOptions: Boolean,\n    emitValue: Boolean,\n\n    inputDebounce: {\n      type: [Number, String],\n      default: 500\n    },\n\n    inputClass: [Array, String, Object],\n    inputStyle: [Array, String, Object],\n\n    tabindex: {\n      type: [String, Number],\n      default: 0\n    },\n\n    autocomplete: String,\n\n    transitionShow: String,\n    transitionHide: String,\n\n    behavior: {\n      type: String,\n      validator: v => ['default', 'menu', 'dialog'].includes(v),\n      default: 'default'\n    },\n\n    virtualScrollItemSize: {\n      type: [ Number, String ],\n      default: void 0\n    }\n  },\n\n  data () {\n    return {\n      menu: false,\n      dialog: false,\n      optionIndex: -1,\n      inputValue: '',\n      dialogFieldFocused: false\n    }\n  },\n\n  watch: {\n    innerValue: {\n      handler (val) {\n        this.innerValueCache = val\n\n        if (\n          this.useInput === true &&\n          this.fillInput === true &&\n          this.multiple !== true &&\n          // Prevent re-entering in filter while filtering\n          // Also prevent clearing inputValue while filtering\n          this.innerLoading !== true &&\n          ((this.dialog !== true && this.menu !== true) || this.hasValue !== true)\n        ) {\n          this.userInputValue !== true && this.__resetInputValue()\n          if (this.dialog === true || this.menu === true) {\n            this.filter('')\n          }\n        }\n      },\n      immediate: true\n    },\n\n    fillInput () {\n      this.__resetInputValue()\n    },\n\n    menu (show) {\n      this.__updateMenu(show)\n    }\n  },\n\n  computed: {\n    isOptionsDark () {\n      return this.optionsDark === null\n        ? this.isDark\n        : this.optionsDark\n    },\n\n    virtualScrollLength () {\n      return Array.isArray(this.options)\n        ? this.options.length\n        : 0\n    },\n\n    fieldClass () {\n      return `q-select q-field--auto-height q-select--with${this.useInput !== true ? 'out' : ''}-input` +\n        ` q-select--with${this.useChips !== true ? 'out' : ''}-chips` +\n        ` q-select--${this.multiple === true ? 'multiple' : 'single'}`\n    },\n\n    computedInputClass () {\n      if (this.hideSelected === true || this.innerValue.length === 0) {\n        return this.inputClass\n      }\n\n      return this.inputClass === void 0\n        ? 'q-field__input--padding'\n        : [this.inputClass, 'q-field__input--padding']\n    },\n\n    menuContentClass () {\n      return (this.virtualScrollHorizontal === true ? 'q-virtual-scroll--horizontal' : '') +\n        (this.popupContentClass ? ' ' + this.popupContentClass : '')\n    },\n\n    innerValue () {\n      const\n        mapNull = this.mapOptions === true && this.multiple !== true,\n        val = this.value !== void 0 && (this.value !== null || mapNull === true)\n          ? (this.multiple === true && Array.isArray(this.value) ? this.value : [ this.value ])\n          : []\n\n      if (this.mapOptions === true && Array.isArray(this.options) === true) {\n        const cache = this.mapOptions === true && this.innerValueCache !== void 0\n          ? this.innerValueCache\n          : []\n        const values = val.map(v => this.__getOption(v, cache))\n\n        return this.value === null && mapNull === true\n          ? values.filter(v => v !== null)\n          : values\n      }\n\n      return val\n    },\n\n    noOptions () {\n      return this.virtualScrollLength === 0\n    },\n\n    selectedString () {\n      return this.innerValue\n        .map(opt => this.getOptionLabel(opt))\n        .join(', ')\n    },\n\n    sanitizeFn () {\n      return this.optionsSanitize === true\n        ? () => true\n        : opt => opt !== void 0 && opt !== null && opt.sanitize === true\n    },\n\n    displayAsText () {\n      return this.displayValueSanitize === true || (\n        this.displayValue === void 0 && (\n          this.optionsSanitize === true ||\n          this.innerValue.some(this.sanitizeFn)\n        )\n      )\n    },\n\n    computedTabindex () {\n      return this.focused === true ? this.tabindex : -1\n    },\n\n    selectedScope () {\n      return this.innerValue.map((opt, i) => ({\n        index: i,\n        opt,\n        sanitize: this.sanitizeFn(opt),\n        selected: true,\n        removeAtIndex: this.__removeAtIndexAndFocus,\n        toggleOption: this.toggleOption,\n        tabindex: this.computedTabindex\n      }))\n    },\n\n    optionScope () {\n      if (this.virtualScrollLength === 0) {\n        return []\n      }\n\n      const { from, to } = this.virtualScrollSliceRange\n      const { options, optionEls } = this.__optionScopeCache\n\n      return this.options.slice(from, to).map((opt, i) => {\n        const disable = this.isOptionDisabled(opt) === true\n        const index = from + i\n\n        const itemProps = {\n          clickable: true,\n          active: false,\n          activeClass: this.computedOptionsSelectedClass,\n          manualFocus: true,\n          focused: false,\n          disable,\n          tabindex: -1,\n          dense: this.optionsDense,\n          dark: this.isOptionsDark\n        }\n\n        if (disable !== true) {\n          this.isOptionSelected(opt) === true && (itemProps.active = true)\n          this.optionIndex === index && (itemProps.focused = true)\n        }\n\n        const itemEvents = {\n          click: () => { this.toggleOption(opt) }\n        }\n\n        if (this.$q.platform.is.desktop === true) {\n          itemEvents.mousemove = () => { this.setOptionIndex(index) }\n        }\n\n        const option = {\n          index,\n          opt,\n          sanitize: this.sanitizeFn(opt),\n          selected: itemProps.active,\n          focused: itemProps.focused,\n          toggleOption: this.toggleOption,\n          setOptionIndex: this.setOptionIndex,\n          itemProps\n        }\n\n        if (options[i] === void 0 || isDeepEqual(option, options[i]) !== true) {\n          options[i] = option\n          optionEls[i] = void 0\n        }\n\n        return {\n          ...option,\n          itemEvents\n        }\n      })\n    },\n\n    dropdownArrowIcon () {\n      return this.dropdownIcon !== void 0\n        ? this.dropdownIcon\n        : this.$q.iconSet.arrow.dropdown\n    },\n\n    squaredMenu () {\n      return this.optionsCover === false &&\n        this.outlined !== true &&\n        this.standout !== true &&\n        this.borderless !== true &&\n        this.rounded !== true\n    },\n\n    computedOptionsSelectedClass () {\n      return this.optionsSelectedClass !== void 0\n        ? this.optionsSelectedClass\n        : (this.color !== void 0 ? `text-${this.color}` : '')\n    },\n\n    innerOptionsValue () {\n      return this.innerValue.map(opt => this.getOptionValue(opt))\n    },\n\n    // returns method to get value of an option;\n    // takes into account 'option-value' prop\n    getOptionValue () {\n      return this.__getPropValueFn('optionValue', 'value')\n    },\n\n    // returns method to get label of an option;\n    // takes into account 'option-label' prop\n    getOptionLabel () {\n      return this.__getPropValueFn('optionLabel', 'label')\n    },\n\n    // returns method to tell if an option is disabled;\n    // takes into account 'option-disable' prop\n    isOptionDisabled () {\n      return this.__getPropValueFn('optionDisable', 'disable')\n    },\n\n    inputControlEvents () {\n      const on = {\n        input: this.__onInput,\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        change: this.__onChange,\n        keydown: this.__onTargetKeydown,\n        keyup: this.__onTargetAutocomplete,\n        keypress: this.__onTargetKeypress,\n        focus: this.__selectInputText,\n        click: e => {\n          this.hasDialog === true && stop(e)\n        }\n      }\n\n      on.compositionstart = on.compositionupdate = on.compositionend = this.__onComposition\n\n      return on\n    },\n\n    virtualScrollItemSizeComputed () {\n      return this.virtualScrollItemSize === void 0\n        ? (this.dense === true ? 24 : 48)\n        : this.virtualScrollItemSize\n    }\n  },\n\n  methods: {\n    getEmittingOptionValue (opt) {\n      return this.emitValue === true\n        ? this.getOptionValue(opt)\n        : opt\n    },\n\n    removeAtIndex (index) {\n      if (index > -1 && index < this.innerValue.length) {\n        if (this.multiple === true) {\n          const model = this.value.slice()\n          this.$emit('remove', { index, value: model.splice(index, 1)[0] })\n          this.$emit('input', model)\n        }\n        else {\n          this.$emit('input', null)\n        }\n      }\n    },\n\n    __removeAtIndexAndFocus (index) {\n      this.removeAtIndex(index)\n      this.__focus()\n    },\n\n    add (opt, unique) {\n      const val = this.getEmittingOptionValue(opt)\n\n      if (this.multiple !== true) {\n        this.fillInput === true && this.updateInputValue(\n          this.getOptionLabel(opt),\n          true,\n          true\n        )\n\n        this.$emit('input', val)\n        return\n      }\n\n      if (this.innerValue.length === 0) {\n        this.$emit('add', { index: 0, value: val })\n        this.$emit('input', this.multiple === true ? [ val ] : val)\n        return\n      }\n\n      if (unique === true && this.isOptionSelected(opt) === true) {\n        return\n      }\n\n      if (this.maxValues !== void 0 && this.value.length >= this.maxValues) {\n        return\n      }\n\n      const model = this.value.slice()\n\n      this.$emit('add', { index: model.length, value: val })\n      model.push(val)\n      this.$emit('input', model)\n    },\n\n    toggleOption (opt, keepOpen) {\n      if (this.editable !== true || opt === void 0 || this.isOptionDisabled(opt) === true) {\n        return\n      }\n\n      const optValue = this.getOptionValue(opt)\n\n      if (this.multiple !== true) {\n        if (keepOpen !== true) {\n          this.updateInputValue(\n            this.fillInput === true ? this.getOptionLabel(opt) : '',\n            true,\n            true\n          )\n\n          this.hidePopup()\n        }\n\n        this.$refs.target !== void 0 && this.$refs.target.focus()\n\n        if (isDeepEqual(this.getOptionValue(this.innerValue[0]), optValue) !== true) {\n          this.$emit('input', this.emitValue === true ? optValue : opt)\n        }\n        return\n      }\n\n      (this.hasDialog !== true || this.dialogFieldFocused === true) && this.__focus()\n\n      this.__selectInputText()\n\n      if (this.innerValue.length === 0) {\n        const val = this.emitValue === true ? optValue : opt\n        this.$emit('add', { index: 0, value: val })\n        this.$emit('input', this.multiple === true ? [ val ] : val)\n        return\n      }\n\n      const\n        model = this.value.slice(),\n        index = this.innerOptionsValue.findIndex(v => isDeepEqual(v, optValue))\n\n      if (index > -1) {\n        this.$emit('remove', { index, value: model.splice(index, 1)[0] })\n      }\n      else {\n        if (this.maxValues !== void 0 && model.length >= this.maxValues) {\n          return\n        }\n\n        const val = this.emitValue === true ? optValue : opt\n\n        this.$emit('add', { index: model.length, value: val })\n        model.push(val)\n      }\n\n      this.$emit('input', model)\n    },\n\n    setOptionIndex (index) {\n      if (this.$q.platform.is.desktop !== true) { return }\n\n      const val = index > -1 && index < this.virtualScrollLength\n        ? index\n        : -1\n\n      if (this.optionIndex !== val) {\n        this.optionIndex = val\n      }\n    },\n\n    moveOptionSelection (offset = 1, skipInputValue) {\n      if (this.menu === true) {\n        let index = this.optionIndex\n        do {\n          index = normalizeToInterval(\n            index + offset,\n            -1,\n            this.virtualScrollLength - 1\n          )\n        }\n        while (index !== -1 && index !== this.optionIndex && this.isOptionDisabled(this.options[index]) === true)\n\n        if (this.optionIndex !== index) {\n          this.setOptionIndex(index)\n          this.scrollTo(index)\n\n          if (skipInputValue !== true && this.useInput === true && this.fillInput === true) {\n            this.__setInputValue(index >= 0\n              ? this.getOptionLabel(this.options[index])\n              : this.defaultInputValue\n            )\n          }\n        }\n      }\n    },\n\n    __getOption (value, innerValueCache) {\n      const fn = opt => isDeepEqual(this.getOptionValue(opt), value)\n      return this.options.find(fn) || innerValueCache.find(fn) || value\n    },\n\n    __getPropValueFn (propName, defaultVal) {\n      const val = this[propName] !== void 0\n        ? this[propName]\n        : defaultVal\n\n      return typeof val === 'function'\n        ? val\n        : opt => Object(opt) === opt && val in opt\n          ? opt[val]\n          : opt\n    },\n\n    isOptionSelected (opt) {\n      const val = this.getOptionValue(opt)\n      return this.innerOptionsValue.find(v => isDeepEqual(v, val)) !== void 0\n    },\n\n    __selectInputText () {\n      if (this.useInput === true && this.$refs.target !== void 0) {\n        this.$refs.target.select()\n      }\n    },\n\n    __onTargetKeyup (e) {\n      // if ESC and we have an opened menu\n      // then stop propagation (might be caught by a QDialog\n      // and so it will also close the QDialog, which is wrong)\n      if (isKeyCode(e, 27) === true && this.menu === true) {\n        stop(e)\n        // on ESC we need to close the dialog also\n        this.hidePopup()\n        this.__resetInputValue()\n      }\n\n      this.$emit('keyup', e)\n    },\n\n    __onTargetAutocomplete (e) {\n      const { value } = e.target\n\n      if (e.keyCode !== void 0) {\n        this.__onTargetKeyup(e)\n        return\n      }\n\n      e.target.value = ''\n      clearTimeout(this.inputTimer)\n      this.__resetInputValue()\n\n      if (typeof value === 'string' && value.length > 0) {\n        const needle = value.toLocaleLowerCase()\n\n        let fn = opt => this.getOptionValue(opt).toLocaleLowerCase() === needle\n        let option = this.options.find(fn)\n\n        if (option !== void 0) {\n          if (this.innerValue.indexOf(option) === -1) {\n            this.toggleOption(option)\n          }\n          else {\n            this.hidePopup()\n          }\n        }\n        else {\n          fn = opt => this.getOptionLabel(opt).toLocaleLowerCase() === needle\n          option = this.options.find(fn)\n\n          if (option !== void 0) {\n            if (this.innerValue.indexOf(option) === -1) {\n              this.toggleOption(option)\n            }\n            else {\n              this.hidePopup()\n            }\n          }\n          else {\n            this.filter(value, true)\n          }\n        }\n      }\n      else {\n        this.__clearValue(e)\n      }\n    },\n\n    __onTargetKeypress (e) {\n      this.$emit('keypress', e)\n    },\n\n    __onTargetKeydown (e) {\n      this.$emit('keydown', e)\n\n      if (shouldIgnoreKey(e) === true) {\n        return\n      }\n\n      const newValueModeValid = this.inputValue.length > 0 &&\n        (this.newValueMode !== void 0 || this.qListeners['new-value'] !== void 0)\n      const tabShouldSelect = e.shiftKey !== true &&\n        this.multiple !== true &&\n        (this.optionIndex > -1 || newValueModeValid === true)\n\n      // escape\n      if (e.keyCode === 27) {\n        prevent(e) // prevent clearing the inputValue\n        return\n      }\n\n      // tab\n      if (e.keyCode === 9 && tabShouldSelect === false) {\n        this.__closeMenu()\n        return\n      }\n\n      if (e.target === void 0 || e.target.id !== this.targetUid) { return }\n\n      // down\n      if (\n        e.keyCode === 40 &&\n        this.innerLoading !== true &&\n        this.menu === false\n      ) {\n        stopAndPrevent(e)\n        this.showPopup()\n        return\n      }\n\n      // backspace\n      if (\n        e.keyCode === 8 &&\n        this.hideSelected !== true &&\n        this.inputValue.length === 0\n      ) {\n        if (this.multiple === true && Array.isArray(this.value)) {\n          this.removeAtIndex(this.value.length - 1)\n        }\n        else if (this.multiple !== true && this.value !== null) {\n          this.$emit('input', null)\n        }\n        return\n      }\n\n      // home, end - 36, 35\n      if (\n        (e.keyCode === 35 || e.keyCode === 36) &&\n        (typeof this.inputValue !== 'string' || this.inputValue.length === 0)\n      ) {\n        stopAndPrevent(e)\n        this.optionIndex = -1\n        this.moveOptionSelection(e.keyCode === 36 ? 1 : -1, this.multiple)\n      }\n\n      // pg up, pg down - 33, 34\n      if (\n        (e.keyCode === 33 || e.keyCode === 34) &&\n        this.virtualScrollSliceSizeComputed !== void 0\n      ) {\n        stopAndPrevent(e)\n        this.optionIndex = Math.max(\n          -1,\n          Math.min(\n            this.virtualScrollLength,\n            this.optionIndex + (e.keyCode === 33 ? -1 : 1) * this.virtualScrollSliceSizeComputed.view\n          )\n        )\n        this.moveOptionSelection(e.keyCode === 33 ? 1 : -1, this.multiple)\n      }\n\n      // up, down\n      if (e.keyCode === 38 || e.keyCode === 40) {\n        stopAndPrevent(e)\n        this.moveOptionSelection(e.keyCode === 38 ? -1 : 1, this.multiple)\n      }\n\n      const optionsLength = this.virtualScrollLength\n\n      // clear search buffer if expired\n      if (this.searchBuffer === void 0 || this.searchBufferExp < Date.now()) {\n        this.searchBuffer = ''\n      }\n\n      // keyboard search when not having use-input\n      if (\n        optionsLength > 0 &&\n        this.useInput !== true &&\n        e.key !== void 0 &&\n        e.key.length === 1 && // printable char\n        e.altKey === e.ctrlKey && // not kbd shortcut\n        (e.keyCode !== 32 || this.searchBuffer.length > 0) // space in middle of search\n      ) {\n        this.menu !== true && this.showPopup(e)\n\n        const\n          char = e.key.toLocaleLowerCase(),\n          keyRepeat = this.searchBuffer.length === 1 && this.searchBuffer[0] === char\n\n        this.searchBufferExp = Date.now() + 1500\n        if (keyRepeat === false) {\n          stopAndPrevent(e)\n          this.searchBuffer += char\n        }\n\n        const searchRe = new RegExp('^' + this.searchBuffer.split('').map(l => reEscapeList.indexOf(l) > -1 ? '\\\\' + l : l).join('.*'), 'i')\n\n        let index = this.optionIndex\n\n        if (keyRepeat === true || index < 0 || searchRe.test(this.getOptionLabel(this.options[index])) !== true) {\n          do {\n            index = normalizeToInterval(index + 1, -1, optionsLength - 1)\n          }\n          while (index !== this.optionIndex && (\n            this.isOptionDisabled(this.options[index]) === true ||\n            searchRe.test(this.getOptionLabel(this.options[index])) !== true\n          ))\n        }\n\n        if (this.optionIndex !== index) {\n          this.$nextTick(() => {\n            this.setOptionIndex(index)\n            this.scrollTo(index)\n\n            if (index >= 0 && this.useInput === true && this.fillInput === true) {\n              this.__setInputValue(this.getOptionLabel(this.options[index]))\n            }\n          })\n        }\n\n        return\n      }\n\n      // enter, space (when not using use-input and not in search), or tab (when not using multiple and option selected)\n      // same target is checked above\n      if (\n        e.keyCode !== 13 &&\n        (e.keyCode !== 32 || this.useInput === true || this.searchBuffer !== '') &&\n        (e.keyCode !== 9 || tabShouldSelect === false)\n      ) { return }\n\n      e.keyCode !== 9 && stopAndPrevent(e)\n\n      if (this.optionIndex > -1 && this.optionIndex < optionsLength) {\n        this.toggleOption(this.options[this.optionIndex])\n        return\n      }\n\n      if (newValueModeValid === true) {\n        const done = (val, mode) => {\n          if (mode) {\n            if (validateNewValueMode(mode) !== true) {\n              return\n            }\n          }\n          else {\n            mode = this.newValueMode\n          }\n\n          if (val === void 0 || val === null) {\n            return\n          }\n\n          this.updateInputValue('', this.multiple !== true, true)\n\n          this[mode === 'toggle' ? 'toggleOption' : 'add'](\n            val,\n            mode === 'add-unique'\n          )\n\n          if (this.multiple !== true) {\n            this.$refs.target !== void 0 && this.$refs.target.focus()\n            this.hidePopup()\n          }\n        }\n\n        if (this.qListeners['new-value'] !== void 0) {\n          this.$emit('new-value', this.inputValue, done)\n        }\n        else {\n          done(this.inputValue)\n        }\n\n        if (this.multiple !== true) {\n          return\n        }\n      }\n\n      if (this.menu === true) {\n        this.__closeMenu()\n      }\n      else if (this.innerLoading !== true) {\n        this.showPopup()\n      }\n    },\n\n    __getVirtualScrollEl () {\n      return this.hasDialog === true\n        ? this.$refs.menuContent\n        : (\n          this.$refs.menu !== void 0 && this.$refs.menu.__portal !== void 0\n            ? this.$refs.menu.__portal.$el\n            : void 0\n        )\n    },\n\n    __getVirtualScrollTarget () {\n      return this.__getVirtualScrollEl()\n    },\n\n    __getSelection (h) {\n      if (this.hideSelected === true) {\n        return []\n      }\n\n      if (this.$scopedSlots['selected-item'] !== void 0) {\n        return this.selectedScope.map(scope => this.$scopedSlots['selected-item'](scope)).slice()\n      }\n\n      if (this.$scopedSlots.selected !== void 0) {\n        return this.$scopedSlots.selected().slice()\n      }\n\n      if (this.useChips === true) {\n        return this.selectedScope.map((scope, i) => h(QChip, {\n          key: 'option-' + i,\n          props: {\n            removable: this.editable === true && this.isOptionDisabled(scope.opt) !== true,\n            dense: true,\n            textColor: this.color,\n            tabindex: this.computedTabindex\n          },\n          on: cache(this, 'rem#' + i, {\n            remove () { scope.removeAtIndex(i) }\n          })\n        }, [\n          h('span', {\n            staticClass: 'ellipsis',\n            domProps: {\n              [scope.sanitize === true ? 'textContent' : 'innerHTML']: this.getOptionLabel(scope.opt)\n            }\n          })\n        ]))\n      }\n\n      return [\n        h('span', {\n          domProps: {\n            [this.displayAsText ? 'textContent' : 'innerHTML']: this.displayValue !== void 0\n              ? this.displayValue\n              : this.selectedString\n          }\n        })\n      ]\n    },\n\n    __getControl (h, fromDialog) {\n      const child = this.__getSelection(h)\n      const isTarget = fromDialog === true || this.dialog !== true || this.hasDialog !== true\n\n      if (this.useInput === true) {\n        child.push(this.__getInput(h, fromDialog, isTarget))\n      }\n      // there can be only one (when dialog is opened the control in dialog should be target)\n      else if (this.editable === true && isTarget === true) {\n        child.push(\n          h('div', {\n            ref: 'target',\n            key: 'd_t',\n            staticClass: 'no-outline',\n            attrs: {\n              id: this.targetUid,\n              tabindex: this.tabindex\n            },\n            on: cache(this, 'f-tget', {\n              keydown: this.__onTargetKeydown,\n              keyup: this.__onTargetKeyup,\n              keypress: this.__onTargetKeypress\n            })\n          })\n        )\n\n        if (typeof this.autocomplete === 'string' && this.autocomplete.length > 0) {\n          child.push(\n            h('input', {\n              staticClass: 'q-select__autocomplete-input no-outline',\n              attrs: { autocomplete: this.autocomplete },\n              on: cache(this, 'autoinp', {\n                keyup: this.__onTargetAutocomplete\n              })\n            })\n          )\n        }\n      }\n\n      if (this.nameProp !== void 0 && this.disable !== true && this.innerOptionsValue.length > 0) {\n        const opts = this.innerOptionsValue.map(value => h('option', {\n          attrs: { value, selected: true }\n        }))\n\n        child.push(\n          h('select', {\n            staticClass: 'hidden',\n            attrs: {\n              name: this.nameProp,\n              multiple: this.multiple\n            }\n          }, opts)\n        )\n      }\n\n      return h('div', { staticClass: 'q-field__native row items-center', attrs: this.qAttrs }, child)\n    },\n\n    __getOptions (h) {\n      if (this.menu !== true) {\n        return void 0\n      }\n\n      if (\n        this.$scopedSlots.option !== void 0 &&\n        this.__optionScopeCache.optionSlot !== this.$scopedSlots.option\n      ) {\n        this.__optionScopeCache.optionSlot = this.$scopedSlots.option\n        this.__optionScopeCache.optionEls = []\n      }\n\n      const fn = this.$scopedSlots.option !== void 0\n        ? this.$scopedSlots.option\n        : scope => h(QItem, {\n          key: scope.index,\n          props: scope.itemProps,\n          on: scope.itemEvents\n        }, [\n          h(QItemSection, [\n            h(QItemLabel, {\n              domProps: {\n                [scope.sanitize === true ? 'textContent' : 'innerHTML']: this.getOptionLabel(scope.opt)\n              }\n            })\n          ])\n        ])\n\n      const { optionEls } = this.__optionScopeCache\n\n      let options = this.__padVirtualScroll(h, 'div', this.optionScope.map((scope, i) => {\n        if (optionEls[i] === void 0) {\n          optionEls[i] = fn(scope)\n        }\n\n        return optionEls[i]\n      }))\n\n      if (this.$scopedSlots['before-options'] !== void 0) {\n        options = this.$scopedSlots['before-options']().concat(options)\n      }\n\n      return mergeSlot(options, this, 'after-options')\n    },\n\n    __getInnerAppend (h) {\n      return this.loading !== true && this.innerLoadingIndicator !== true && this.hideDropdownIcon !== true\n        ? [\n          h(QIcon, {\n            staticClass: 'q-select__dropdown-icon' + (this.menu === true ? ' rotate-180' : ''),\n            props: { name: this.dropdownArrowIcon }\n          })\n        ]\n        : null\n    },\n\n    __getInput (h, fromDialog, isTarget) {\n      const options = {\n        ref: isTarget === true ? 'target' : void 0,\n        key: 'i_t',\n        staticClass: 'q-field__input q-placeholder col',\n        style: this.inputStyle,\n        class: this.computedInputClass,\n        domProps: { value: this.inputValue !== void 0 ? this.inputValue : '' },\n        attrs: {\n          // required for Android in order to show ENTER key when in form\n          type: 'search',\n          ...this.qAttrs,\n          id: this.targetUid,\n          maxlength: this.maxlength, // this is converted to prop by QField\n          tabindex: this.tabindex,\n          autocomplete: this.autocomplete,\n          'data-autofocus': fromDialog === true ? false : this.autofocus,\n          disabled: this.disable === true,\n          readonly: this.readonly === true\n        },\n        on: this.inputControlEvents\n      }\n\n      if (fromDialog !== true && this.hasDialog === true) {\n        options.staticClass += ' no-pointer-events'\n      }\n\n      return h('input', options)\n    },\n\n    __onChange (e) {\n      this.__onComposition(e)\n    },\n\n    __onInput (e) {\n      clearTimeout(this.inputTimer)\n\n      if (e && e.target && e.target.composing === true) {\n        return\n      }\n\n      this.__setInputValue(e.target.value || '')\n      // mark it here as user input so that if updateInputValue is called\n      // before filter is called the indicator is reset\n      this.userInputValue = true\n      this.defaultInputValue = this.inputValue\n\n      if (\n        this.focused !== true &&\n        (this.hasDialog !== true || this.dialogFieldFocused === true)\n      ) {\n        this.__focus()\n      }\n\n      if (this.qListeners.filter !== void 0) {\n        this.inputTimer = setTimeout(() => {\n          this.filter(this.inputValue)\n        }, this.inputDebounce)\n      }\n    },\n\n    __setInputValue (inputValue) {\n      if (this.inputValue !== inputValue) {\n        this.inputValue = inputValue\n        this.$emit('input-value', inputValue)\n      }\n    },\n\n    updateInputValue (val, noFiltering, internal) {\n      this.userInputValue = internal !== true\n\n      if (this.useInput === true) {\n        this.__setInputValue(val)\n\n        if (noFiltering === true || internal !== true) {\n          this.defaultInputValue = val\n        }\n\n        noFiltering !== true && this.filter(val)\n      }\n    },\n\n    filter (val, keepClosed) {\n      if (this.qListeners.filter === void 0 || (keepClosed !== true && this.focused !== true)) {\n        return\n      }\n\n      if (this.innerLoading === true) {\n        this.$emit('filter-abort')\n      }\n      else {\n        this.innerLoading = true\n        this.innerLoadingIndicator = true\n      }\n\n      if (\n        val !== '' &&\n        this.multiple !== true &&\n        this.innerValue.length > 0 &&\n        this.userInputValue !== true &&\n        val === this.getOptionLabel(this.innerValue[0])\n      ) {\n        val = ''\n      }\n\n      const filterId = setTimeout(() => {\n        this.menu === true && (this.menu = false)\n      }, 10)\n      clearTimeout(this.filterId)\n      this.filterId = filterId\n\n      this.$emit(\n        'filter',\n        val,\n        (fn, afterFn) => {\n          if ((keepClosed === true || this.focused === true) && this.filterId === filterId) {\n            clearTimeout(this.filterId)\n\n            typeof fn === 'function' && fn()\n\n            // hide indicator to allow arrow to animate\n            this.innerLoadingIndicator = false\n\n            this.$nextTick(() => {\n              this.innerLoading = false\n\n              if (this.editable === true) {\n                if (keepClosed === true) {\n                  this.menu === true && this.hidePopup()\n                }\n                else if (this.menu === true) {\n                  this.__updateMenu(true)\n                }\n                else {\n                  this.menu = true\n                }\n              }\n\n              typeof afterFn === 'function' && this.$nextTick(() => { afterFn(this) })\n            })\n          }\n        },\n        () => {\n          if (this.focused === true && this.filterId === filterId) {\n            clearTimeout(this.filterId)\n            this.innerLoading = false\n            this.innerLoadingIndicator = false\n          }\n          this.menu === true && (this.menu = false)\n        }\n      )\n    },\n\n    __getControlEvents () {\n      const focusout = e => {\n        this.__onControlFocusout(e, () => {\n          this.__resetInputValue()\n          this.__closeMenu()\n        })\n      }\n\n      return {\n        focusin: this.__onControlFocusin,\n        focusout,\n        'popup-show': this.__onControlPopupShow,\n        'popup-hide': e => {\n          e !== void 0 && stop(e)\n          this.$emit('popup-hide', e)\n          this.hasPopupOpen = false\n          focusout(e)\n        },\n        click: e => {\n          if (this.hasDialog !== true) {\n            // label from QField will propagate click on the input (except IE)\n            prevent(e)\n\n            if (this.menu === true) {\n              this.__closeMenu()\n              this.$refs.target !== void 0 && this.$refs.target.focus()\n              return\n            }\n          }\n\n          this.showPopup(e)\n        }\n      }\n    },\n\n    __getControlChild (h) {\n      if (\n        this.editable !== false && (\n          this.dialog === true || // dialog always has menu displayed, so need to render it\n          this.noOptions !== true ||\n          this.$scopedSlots['no-option'] !== void 0\n        )\n      ) {\n        return this[`__get${this.hasDialog === true ? 'Dialog' : 'Menu'}`](h)\n      }\n    },\n\n    __getMenu (h) {\n      const child = this.noOptions === true\n        ? (\n          this.$scopedSlots['no-option'] !== void 0\n            ? this.$scopedSlots['no-option']({ inputValue: this.inputValue })\n            : null\n        )\n        : this.__getOptions(h)\n\n      return h(QMenu, {\n        ref: 'menu',\n        props: {\n          value: this.menu,\n          fit: this.menuShrink !== true,\n          cover: this.optionsCover === true && this.noOptions !== true && this.useInput !== true,\n          anchor: this.menuAnchor,\n          self: this.menuSelf,\n          offset: this.menuOffset,\n          contentClass: this.menuContentClass,\n          contentStyle: this.popupContentStyle,\n          dark: this.isOptionsDark,\n          noParentEvent: true,\n          noRefocus: true,\n          noFocus: true,\n          square: this.squaredMenu,\n          transitionShow: this.transitionShow,\n          transitionHide: this.transitionHide,\n          separateClosePopup: true\n        },\n        on: cache(this, 'menu', {\n          '&scroll': this.__onVirtualScrollEvt,\n          'before-hide': this.__closeMenu,\n          show: this.__onMenuShow\n        })\n      }, child)\n    },\n\n    __onMenuShow () {\n      this.__setVirtualScrollSize()\n    },\n\n    __onDialogFieldFocus (e) {\n      stop(e)\n      this.$refs.target !== void 0 && this.$refs.target.focus()\n      this.dialogFieldFocused = true\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, 0)\n    },\n\n    __onDialogFieldBlur (e) {\n      stop(e)\n      this.$nextTick(() => {\n        this.dialogFieldFocused = false\n      })\n    },\n\n    __getDialog (h) {\n      const content = [\n        h(QField, {\n          staticClass: `col-auto ${this.fieldClass}`,\n          props: {\n            ...this.$props,\n            for: this.targetUid,\n            dark: this.isOptionsDark,\n            square: true,\n            filled: true,\n            itemAligned: false,\n            loading: this.innerLoadingIndicator,\n            stackLabel: this.inputValue.length > 0\n          },\n          on: {\n            ...this.qListeners,\n            focus: this.__onDialogFieldFocus,\n            blur: this.__onDialogFieldBlur\n          },\n          scopedSlots: {\n            ...this.$scopedSlots,\n            rawControl: () => this.__getControl(h, true),\n            before: void 0,\n            after: void 0\n          }\n        })\n      ]\n\n      this.menu === true && content.push(\n        h('div', {\n          ref: 'menuContent',\n          staticClass: 'scroll',\n          class: this.menuContentClass,\n          style: this.popupContentStyle,\n          on: cache(this, 'virtMenu', {\n            click: prevent,\n            '&scroll': this.__onVirtualScrollEvt\n          })\n        }, (\n          this.noOptions === true\n            ? (\n              this.$scopedSlots['no-option'] !== void 0\n                ? this.$scopedSlots['no-option']({ inputValue: this.inputValue })\n                : null\n            )\n            : this.__getOptions(h)\n        ))\n      )\n\n      return h(QDialog, {\n        ref: 'dialog',\n        props: {\n          value: this.dialog,\n          dark: this.isOptionsDark,\n          position: this.useInput === true ? 'top' : void 0,\n          transitionShow: this.transitionShowComputed,\n          transitionHide: this.transitionHide\n        },\n        on: cache(this, 'dialog', {\n          'before-hide': this.__onDialogBeforeHide,\n          hide: this.__onDialogHide,\n          show: this.__onDialogShow\n        })\n      }, [\n        h('div', {\n          staticClass: 'q-select__dialog' +\n            (this.isOptionsDark === true ? ' q-select__dialog--dark q-dark' : '') +\n            (this.dialogFieldFocused === true ? ' q-select__dialog--focused' : '')\n        }, content)\n      ])\n    },\n\n    __onDialogBeforeHide () {\n      this.$refs.dialog.__refocusTarget = this.$el.querySelector('.q-field__native > [tabindex]:last-child')\n      this.focused = false\n    },\n\n    __onDialogHide (e) {\n      this.hidePopup()\n      this.focused === false && this.$emit('blur', e)\n      this.__resetInputValue()\n    },\n\n    __onDialogShow () {\n      const el = document.activeElement\n      // IE can have null document.activeElement\n      if (\n        (el === null || el.id !== this.targetUid) &&\n        this.$refs.target !== el &&\n        this.$refs.target !== void 0\n      ) {\n        this.$refs.target.focus()\n      }\n\n      this.__setVirtualScrollSize()\n    },\n\n    __closeMenu () {\n      if (this.__optionScopeCache !== void 0) {\n        this.__optionScopeCache.optionEls = []\n      }\n\n      if (this.dialog === true) {\n        return\n      }\n\n      this.optionIndex = -1\n\n      if (this.menu === true) {\n        this.menu = false\n      }\n\n      if (this.focused === false) {\n        clearTimeout(this.filterId)\n        this.filterId = void 0\n\n        if (this.innerLoading === true) {\n          this.$emit('filter-abort')\n          this.innerLoading = false\n          this.innerLoadingIndicator = false\n        }\n      }\n    },\n\n    showPopup (e) {\n      if (this.editable !== true) {\n        return\n      }\n\n      if (this.hasDialog === true) {\n        this.__onControlFocusin(e)\n        this.dialog = true\n        this.$nextTick(() => {\n          this.__focus()\n        })\n      }\n      else {\n        this.__focus()\n      }\n\n      if (this.qListeners.filter !== void 0) {\n        this.filter(this.inputValue)\n      }\n      else if (this.noOptions !== true || this.$scopedSlots['no-option'] !== void 0) {\n        this.menu = true\n      }\n    },\n\n    hidePopup () {\n      this.dialog = false\n      this.__closeMenu()\n    },\n\n    __resetInputValue () {\n      this.useInput === true && this.updateInputValue(\n        this.multiple !== true && this.fillInput === true && this.innerValue.length > 0\n          ? this.getOptionLabel(this.innerValue[0]) || ''\n          : '',\n        true,\n        true\n      )\n    },\n\n    __updateMenu (show) {\n      let optionIndex = -1\n\n      if (show === true) {\n        if (this.innerValue.length > 0) {\n          const val = this.getOptionValue(this.innerValue[0])\n          optionIndex = this.options.findIndex(v => isDeepEqual(this.getOptionValue(v), val))\n        }\n\n        this.__resetVirtualScroll(optionIndex)\n      }\n\n      this.setOptionIndex(optionIndex)\n    },\n\n    __onPreRender () {\n      this.hasDialog = this.$q.platform.is.mobile !== true && this.behavior !== 'dialog'\n        ? false\n        : this.behavior !== 'menu' && (\n          this.useInput === true\n            ? this.$scopedSlots['no-option'] !== void 0 || this.qListeners.filter !== void 0 || this.noOptions === false\n            : true\n        )\n\n      this.transitionShowComputed = this.hasDialog === true && this.useInput === true && this.$q.platform.is.ios === true\n        ? 'fade'\n        : this.transitionShow\n    },\n\n    __onPostRender () {\n      if (this.dialog === false && this.$refs.menu !== void 0) {\n        this.$refs.menu.updatePosition()\n      }\n    },\n\n    updateMenuPosition () {\n      this.__onPostRender()\n    }\n  },\n\n  beforeMount () {\n    this.__optionScopeCache = {\n      optionSlot: this.$scopedSlots.option,\n      options: [],\n      optionEls: []\n    }\n  },\n\n  beforeDestroy () {\n    this.__optionScopeCache = void 0\n    clearTimeout(this.inputTimer)\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}