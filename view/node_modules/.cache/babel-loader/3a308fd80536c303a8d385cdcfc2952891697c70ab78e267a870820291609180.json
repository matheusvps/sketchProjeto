{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.string.link.js\";\nimport Vue from 'vue';\nimport QIcon from '../icon/QIcon.js';\nimport QCheckbox from '../checkbox/QCheckbox.js';\nimport QSlideTransition from '../slide-transition/QSlideTransition.js';\nimport QSpinner from '../spinner/QSpinner.js';\nimport DarkMixin from '../../mixins/dark.js';\nimport { stopAndPrevent } from '../../utils/event.js';\nimport { shouldIgnoreKey } from '../../utils/key-composition.js';\nimport cache from '../../utils/cache.js';\nexport default Vue.extend({\n  name: 'QTree',\n  mixins: [DarkMixin],\n  props: {\n    nodes: {\n      type: Array,\n      required: true\n    },\n    nodeKey: {\n      type: String,\n      required: true\n    },\n    labelKey: {\n      type: String,\n      \"default\": 'label'\n    },\n    childrenKey: {\n      type: String,\n      \"default\": 'children'\n    },\n    color: String,\n    controlColor: String,\n    textColor: String,\n    selectedColor: String,\n    icon: String,\n    tickStrategy: {\n      type: String,\n      \"default\": 'none',\n      validator: function validator(v) {\n        return ['none', 'strict', 'leaf', 'leaf-filtered'].includes(v);\n      }\n    },\n    ticked: Array,\n    // sync\n    expanded: Array,\n    // sync\n    selected: {},\n    // sync\n\n    defaultExpandAll: Boolean,\n    accordion: Boolean,\n    filter: String,\n    filterMethod: {\n      type: Function,\n      \"default\": function _default(node, filter) {\n        var filt = filter.toLowerCase();\n        return node[this.labelKey] && node[this.labelKey].toLowerCase().indexOf(filt) > -1;\n      }\n    },\n    duration: Number,\n    noConnectors: Boolean,\n    noNodesLabel: String,\n    noResultsLabel: String\n  },\n  computed: {\n    classes: function classes() {\n      return \"q-tree\" + (this.noConnectors === true ? \" q-tree--no-connectors\" : '') + (this.isDark === true ? \" q-tree--dark\" : '') + (this.color !== void 0 ? \" text-\".concat(this.color) : '');\n    },\n    hasSelection: function hasSelection() {\n      return this.selected !== void 0;\n    },\n    computedIcon: function computedIcon() {\n      return this.icon || this.$q.iconSet.tree.icon;\n    },\n    computedControlColor: function computedControlColor() {\n      return this.controlColor || this.color;\n    },\n    textColorClass: function textColorClass() {\n      if (this.textColor !== void 0) {\n        return \"text-\".concat(this.textColor);\n      }\n    },\n    selectedColorClass: function selectedColorClass() {\n      var color = this.selectedColor || this.color;\n      if (color) {\n        return \"text-\".concat(color);\n      }\n    },\n    meta: function meta() {\n      var _this = this;\n      var meta = {};\n      var travel = function travel(node, parent) {\n        var tickStrategy = node.tickStrategy || (parent ? parent.tickStrategy : _this.tickStrategy);\n        var key = node[_this.nodeKey],\n          isParent = node[_this.childrenKey] && node[_this.childrenKey].length > 0,\n          isLeaf = isParent !== true,\n          selectable = node.disabled !== true && _this.hasSelection === true && node.selectable !== false,\n          expandable = node.disabled !== true && node.expandable !== false,\n          hasTicking = tickStrategy !== 'none',\n          strictTicking = tickStrategy === 'strict',\n          leafFilteredTicking = tickStrategy === 'leaf-filtered',\n          leafTicking = tickStrategy === 'leaf' || tickStrategy === 'leaf-filtered';\n        var tickable = node.disabled !== true && node.tickable !== false;\n        if (leafTicking === true && tickable === true && parent && parent.tickable !== true) {\n          tickable = false;\n        }\n        var lazy = node.lazy;\n        if (lazy === true && _this.lazy[key] !== void 0 && Array.isArray(node[_this.childrenKey]) === true) {\n          lazy = _this.lazy[key];\n        }\n        var m = {\n          key: key,\n          parent: parent,\n          isParent: isParent,\n          isLeaf: isLeaf,\n          lazy: lazy,\n          disabled: node.disabled,\n          link: node.disabled !== true && (selectable === true || expandable === true && (isParent === true || lazy === true)),\n          children: [],\n          matchesFilter: _this.filter ? _this.filterMethod(node, _this.filter) : true,\n          selected: key === _this.selected && selectable === true,\n          selectable: selectable,\n          expanded: isParent === true ? _this.innerExpanded.includes(key) : false,\n          expandable: expandable,\n          noTick: node.noTick === true || strictTicking !== true && lazy && lazy !== 'loaded',\n          tickable: tickable,\n          tickStrategy: tickStrategy,\n          hasTicking: hasTicking,\n          strictTicking: strictTicking,\n          leafFilteredTicking: leafFilteredTicking,\n          leafTicking: leafTicking,\n          ticked: strictTicking === true ? _this.innerTicked.includes(key) : isLeaf === true ? _this.innerTicked.includes(key) : false\n        };\n        meta[key] = m;\n        if (isParent === true) {\n          m.children = node[_this.childrenKey].map(function (n) {\n            return travel(n, m);\n          });\n          if (_this.filter) {\n            if (m.matchesFilter !== true) {\n              m.matchesFilter = m.children.some(function (n) {\n                return n.matchesFilter;\n              });\n            } else if (m.noTick !== true && m.disabled !== true && m.tickable === true && leafFilteredTicking === true && m.children.every(function (n) {\n              return n.matchesFilter !== true || n.noTick === true || n.tickable !== true;\n            }) === true) {\n              m.tickable = false;\n            }\n          }\n          if (m.matchesFilter === true) {\n            if (m.noTick !== true && strictTicking !== true && m.children.every(function (n) {\n              return n.noTick;\n            }) === true) {\n              m.noTick = true;\n            }\n            if (leafTicking) {\n              m.ticked = false;\n              m.indeterminate = m.children.some(function (node) {\n                return node.indeterminate === true;\n              });\n              m.tickable = m.tickable === true && m.children.some(function (node) {\n                return node.tickable;\n              });\n              if (m.indeterminate !== true) {\n                var sel = m.children.reduce(function (acc, meta) {\n                  return meta.ticked === true ? acc + 1 : acc;\n                }, 0);\n                if (sel === m.children.length) {\n                  m.ticked = true;\n                } else if (sel > 0) {\n                  m.indeterminate = true;\n                }\n              }\n              if (m.indeterminate === true) {\n                m.indeterminateNextState = m.children.every(function (meta) {\n                  return meta.tickable !== true || meta.ticked !== true;\n                });\n              }\n            }\n          }\n        }\n        return m;\n      };\n      this.nodes.forEach(function (node) {\n        return travel(node, null);\n      });\n      return meta;\n    }\n  },\n  data: function data() {\n    return {\n      lazy: {},\n      innerTicked: this.ticked || [],\n      innerExpanded: this.expanded || []\n    };\n  },\n  watch: {\n    ticked: function ticked(val) {\n      this.innerTicked = val;\n    },\n    expanded: function expanded(val) {\n      this.innerExpanded = val;\n    }\n  },\n  methods: {\n    getNodeByKey: function getNodeByKey(key) {\n      var _this2 = this;\n      var reduce = [].reduce;\n      var find = function find(result, node) {\n        if (result || !node) {\n          return result;\n        }\n        if (Array.isArray(node) === true) {\n          return reduce.call(Object(node), find, result);\n        }\n        if (node[_this2.nodeKey] === key) {\n          return node;\n        }\n        if (node[_this2.childrenKey]) {\n          return find(null, node[_this2.childrenKey]);\n        }\n      };\n      return find(null, this.nodes);\n    },\n    getTickedNodes: function getTickedNodes() {\n      var _this3 = this;\n      return this.innerTicked.map(function (key) {\n        return _this3.getNodeByKey(key);\n      });\n    },\n    getExpandedNodes: function getExpandedNodes() {\n      var _this4 = this;\n      return this.innerExpanded.map(function (key) {\n        return _this4.getNodeByKey(key);\n      });\n    },\n    isExpanded: function isExpanded(key) {\n      return key && this.meta[key] ? this.meta[key].expanded : false;\n    },\n    collapseAll: function collapseAll() {\n      if (this.expanded !== void 0) {\n        this.$emit('update:expanded', []);\n      } else {\n        this.innerExpanded = [];\n      }\n    },\n    expandAll: function expandAll() {\n      var _this5 = this;\n      var expanded = this.innerExpanded,\n        travel = function travel(node) {\n          if (node[_this5.childrenKey] && node[_this5.childrenKey].length > 0) {\n            if (node.expandable !== false && node.disabled !== true) {\n              expanded.push(node[_this5.nodeKey]);\n              node[_this5.childrenKey].forEach(travel);\n            }\n          }\n        };\n      this.nodes.forEach(travel);\n      if (this.expanded !== void 0) {\n        this.$emit('update:expanded', expanded);\n      } else {\n        this.innerExpanded = expanded;\n      }\n    },\n    setExpanded: function setExpanded(key, state) {\n      var _this6 = this;\n      var node = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.getNodeByKey(key);\n      var meta = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.meta[key];\n      if (meta.lazy && meta.lazy !== 'loaded') {\n        if (meta.lazy === 'loading') {\n          return;\n        }\n        this.$set(this.lazy, key, 'loading');\n        if (Array.isArray(node[this.childrenKey]) !== true) {\n          this.$set(node, this.childrenKey, []);\n        }\n        this.$emit('lazy-load', {\n          node: node,\n          key: key,\n          done: function done(children) {\n            _this6.lazy[key] = 'loaded';\n            _this6.$set(node, _this6.childrenKey, Array.isArray(children) === true ? children : []);\n            _this6.$nextTick(function () {\n              var m = _this6.meta[key];\n              if (m && m.isParent === true) {\n                _this6.__setExpanded(key, true);\n              }\n            });\n          },\n          fail: function fail() {\n            _this6.$delete(_this6.lazy, key);\n            if (node[_this6.childrenKey].length === 0) {\n              _this6.$delete(node, _this6.childrenKey);\n            }\n          }\n        });\n      } else if (meta.isParent === true && meta.expandable === true) {\n        this.__setExpanded(key, state);\n      }\n    },\n    __setExpanded: function __setExpanded(key, state) {\n      var _this7 = this;\n      var target = this.innerExpanded;\n      var emit = this.expanded !== void 0;\n      if (emit === true) {\n        target = target.slice();\n      }\n      if (state) {\n        if (this.accordion) {\n          if (this.meta[key]) {\n            var collapse = [];\n            if (this.meta[key].parent) {\n              this.meta[key].parent.children.forEach(function (m) {\n                if (m.key !== key && m.expandable === true) {\n                  collapse.push(m.key);\n                }\n              });\n            } else {\n              this.nodes.forEach(function (node) {\n                var k = node[_this7.nodeKey];\n                if (k !== key) {\n                  collapse.push(k);\n                }\n              });\n            }\n            if (collapse.length > 0) {\n              target = target.filter(function (k) {\n                return collapse.includes(k) === false;\n              });\n            }\n          }\n        }\n        target = target.concat([key]).filter(function (key, index, self) {\n          return self.indexOf(key) === index;\n        });\n      } else {\n        target = target.filter(function (k) {\n          return k !== key;\n        });\n      }\n      if (emit === true) {\n        this.$emit(\"update:expanded\", target);\n      } else {\n        this.innerExpanded = target;\n      }\n    },\n    isTicked: function isTicked(key) {\n      return key && this.meta[key] ? this.meta[key].ticked : false;\n    },\n    setTicked: function setTicked(keys, state) {\n      var target = this.innerTicked;\n      var emit = this.ticked !== void 0;\n      if (emit === true) {\n        target = target.slice();\n      }\n      if (state) {\n        target = target.concat(keys).filter(function (key, index, self) {\n          return self.indexOf(key) === index;\n        });\n      } else {\n        target = target.filter(function (k) {\n          return keys.includes(k) === false;\n        });\n      }\n      if (emit === true) {\n        this.$emit(\"update:ticked\", target);\n      }\n    },\n    __getSlotScope: function __getSlotScope(node, meta, key) {\n      var _this8 = this;\n      var scope = {\n        tree: this,\n        node: node,\n        key: key,\n        color: this.color,\n        dark: this.isDark\n      };\n      Object.defineProperty(scope, 'expanded', {\n        get: function get() {\n          return meta.expanded;\n        },\n        set: function set(val) {\n          val !== meta.expanded && _this8.setExpanded(key, val);\n        },\n        configurable: true,\n        enumerable: true\n      });\n      Object.defineProperty(scope, 'ticked', {\n        get: function get() {\n          return meta.ticked;\n        },\n        set: function set(val) {\n          val !== meta.ticked && _this8.setTicked([key], val);\n        },\n        configurable: true,\n        enumerable: true\n      });\n      return scope;\n    },\n    __getChildren: function __getChildren(h, nodes) {\n      var _this9 = this;\n      return (this.filter ? nodes.filter(function (n) {\n        return _this9.meta[n[_this9.nodeKey]].matchesFilter;\n      }) : nodes).map(function (child) {\n        return _this9.__getNode(h, child);\n      });\n    },\n    __getNodeMedia: function __getNodeMedia(h, node) {\n      if (node.icon !== void 0) {\n        return h(QIcon, {\n          staticClass: \"q-tree__icon q-mr-sm\",\n          props: {\n            name: node.icon,\n            color: node.iconColor\n          }\n        });\n      }\n      var src = node.img || node.avatar;\n      if (src) {\n        return h('img', {\n          staticClass: \"q-tree__\".concat(node.img ? 'img' : 'avatar', \" q-mr-sm\"),\n          attrs: {\n            src: src\n          }\n        });\n      }\n    },\n    __getNode: function __getNode(h, node) {\n      var _this10 = this;\n      var key = node[this.nodeKey],\n        meta = this.meta[key],\n        header = node.header ? this.$scopedSlots[\"header-\".concat(node.header)] || this.$scopedSlots['default-header'] : this.$scopedSlots['default-header'];\n      var children = meta.isParent === true ? this.__getChildren(h, node[this.childrenKey]) : [];\n      var isParent = children.length > 0 || meta.lazy && meta.lazy !== 'loaded';\n      var body = node.body ? this.$scopedSlots[\"body-\".concat(node.body)] || this.$scopedSlots['default-body'] : this.$scopedSlots['default-body'];\n      var slotScope = header !== void 0 || body !== void 0 ? this.__getSlotScope(node, meta, key) : null;\n      if (body !== void 0) {\n        body = h('div', {\n          staticClass: 'q-tree__node-body relative-position'\n        }, [h('div', {\n          \"class\": this.textColorClass\n        }, [body(slotScope)])]);\n      }\n      return h('div', {\n        key: key,\n        staticClass: 'q-tree__node relative-position',\n        \"class\": {\n          'q-tree__node--parent': isParent,\n          'q-tree__node--child': !isParent\n        }\n      }, [h('div', {\n        staticClass: 'q-tree__node-header relative-position row no-wrap items-center',\n        \"class\": {\n          'q-tree__node--link q-hoverable q-focusable': meta.link,\n          'q-tree__node--selected': meta.selected,\n          'q-tree__node--disabled': meta.disabled\n        },\n        attrs: {\n          tabindex: meta.link ? 0 : -1\n        },\n        on: {\n          click: function click(e) {\n            _this10.__onClick(node, meta, e);\n          },\n          keypress: function keypress(e) {\n            if (shouldIgnoreKey(e) !== true) {\n              if (e.keyCode === 13) {\n                _this10.__onClick(node, meta, e, true);\n              } else if (e.keyCode === 32) {\n                _this10.__onExpandClick(node, meta, e, true);\n              }\n            }\n          }\n        }\n      }, [h('div', {\n        staticClass: 'q-focus-helper',\n        attrs: {\n          tabindex: -1\n        },\n        ref: \"blurTarget_\".concat(meta.key)\n      }), meta.lazy === 'loading' ? h(QSpinner, {\n        staticClass: 'q-tree__spinner q-mr-xs',\n        props: {\n          color: this.computedControlColor\n        }\n      }) : isParent === true ? h(QIcon, {\n        staticClass: 'q-tree__arrow q-mr-xs',\n        \"class\": {\n          'q-tree__arrow--rotate': meta.expanded\n        },\n        props: {\n          name: this.computedIcon\n        },\n        on: {\n          click: function click(e) {\n            _this10.__onExpandClick(node, meta, e);\n          }\n        }\n      }) : null, meta.hasTicking === true && meta.noTick !== true ? h(QCheckbox, {\n        staticClass: 'q-mr-xs',\n        props: {\n          value: meta.indeterminate === true ? null : meta.ticked,\n          color: this.computedControlColor,\n          dark: this.isDark,\n          dense: true,\n          keepColor: true,\n          disable: meta.tickable !== true\n        },\n        on: {\n          keydown: stopAndPrevent,\n          input: function input(v) {\n            _this10.__onTickedClick(meta, v);\n          }\n        }\n      }) : null, h('div', {\n        'staticClass': 'q-tree__node-header-content col row no-wrap items-center',\n        \"class\": meta.selected ? this.selectedColorClass : this.textColorClass\n      }, [header ? header(slotScope) : [this.__getNodeMedia(h, node), h('div', node[this.labelKey])]])]), isParent === true ? h(QSlideTransition, {\n        props: {\n          duration: this.duration\n        },\n        on: cache(this, 'slide', {\n          show: function show() {\n            _this10.$emit('after-show');\n          },\n          hide: function hide() {\n            _this10.$emit('after-hide');\n          }\n        })\n      }, [h('div', {\n        staticClass: 'q-tree__node-collapsible',\n        \"class\": this.textColorClass,\n        directives: [{\n          name: 'show',\n          value: meta.expanded\n        }]\n      }, [body, h('div', {\n        staticClass: 'q-tree__children',\n        \"class\": {\n          'q-tree__node--disabled': meta.disabled\n        }\n      }, children)])]) : body]);\n    },\n    __blur: function __blur(key) {\n      var blurTarget = this.$refs[\"blurTarget_\".concat(key)];\n      blurTarget !== void 0 && blurTarget.focus();\n    },\n    __onClick: function __onClick(node, meta, e, keyboard) {\n      keyboard !== true && this.__blur(meta.key);\n      if (this.hasSelection) {\n        if (meta.selectable) {\n          this.$emit('update:selected', meta.key !== this.selected ? meta.key : null);\n        }\n      } else {\n        this.__onExpandClick(node, meta, e, keyboard);\n      }\n      if (typeof node.handler === 'function') {\n        node.handler(node);\n      }\n    },\n    __onExpandClick: function __onExpandClick(node, meta, e, keyboard) {\n      if (e !== void 0) {\n        stopAndPrevent(e);\n      }\n      keyboard !== true && this.__blur(meta.key);\n      this.setExpanded(meta.key, !meta.expanded, node, meta);\n    },\n    __onTickedClick: function __onTickedClick(meta, state) {\n      if (meta.indeterminate === true) {\n        state = meta.indeterminateNextState;\n      }\n      if (meta.strictTicking) {\n        this.setTicked([meta.key], state);\n      } else if (meta.leafTicking) {\n        var keys = [];\n        var travel = function travel(meta) {\n          if (meta.isParent) {\n            if (state !== true && meta.noTick !== true && meta.tickable === true) {\n              keys.push(meta.key);\n            }\n            if (meta.leafTicking === true) {\n              meta.children.forEach(travel);\n            }\n          } else if (meta.noTick !== true && meta.tickable === true && (meta.leafFilteredTicking !== true || meta.matchesFilter === true)) {\n            keys.push(meta.key);\n          }\n        };\n        travel(meta);\n        this.setTicked(keys, state);\n      }\n    }\n  },\n  render: function render(h) {\n    var children = this.__getChildren(h, this.nodes);\n    return h('div', {\n      \"class\": this.classes\n    }, children.length === 0 ? this.filter ? this.noResultsLabel || this.$q.lang.tree.noResults : this.noNodesLabel || this.$q.lang.tree.noNodes : children);\n  },\n  created: function created() {\n    this.defaultExpandAll === true && this.expandAll();\n  }\n});","map":{"version":3,"names":["Vue","QIcon","QCheckbox","QSlideTransition","QSpinner","DarkMixin","stopAndPrevent","shouldIgnoreKey","cache","extend","name","mixins","props","nodes","type","Array","required","nodeKey","String","labelKey","childrenKey","color","controlColor","textColor","selectedColor","icon","tickStrategy","validator","v","includes","ticked","expanded","selected","defaultExpandAll","Boolean","accordion","filter","filterMethod","Function","_default","node","filt","toLowerCase","indexOf","duration","Number","noConnectors","noNodesLabel","noResultsLabel","computed","classes","isDark","concat","hasSelection","computedIcon","$q","iconSet","tree","computedControlColor","textColorClass","selectedColorClass","meta","_this","travel","parent","key","isParent","length","isLeaf","selectable","disabled","expandable","hasTicking","strictTicking","leafFilteredTicking","leafTicking","tickable","lazy","isArray","m","link","children","matchesFilter","innerExpanded","noTick","innerTicked","map","n","some","every","indeterminate","sel","reduce","acc","indeterminateNextState","forEach","data","watch","val","methods","getNodeByKey","_this2","find","result","call","Object","getTickedNodes","_this3","getExpandedNodes","_this4","isExpanded","collapseAll","$emit","expandAll","_this5","push","setExpanded","state","_this6","arguments","undefined","$set","done","$nextTick","__setExpanded","fail","$delete","_this7","target","emit","slice","collapse","k","index","self","isTicked","setTicked","keys","__getSlotScope","_this8","scope","dark","defineProperty","get","set","configurable","enumerable","__getChildren","h","_this9","child","__getNode","__getNodeMedia","staticClass","iconColor","src","img","avatar","attrs","_this10","header","$scopedSlots","body","slotScope","tabindex","on","click","e","__onClick","keypress","keyCode","__onExpandClick","ref","value","dense","keepColor","disable","keydown","input","__onTickedClick","show","hide","directives","__blur","blurTarget","$refs","focus","keyboard","handler","render","lang","noResults","noNodes","created"],"sources":["C:/Users/rodri/projetos/sketchProjeto/view/node_modules/quasar/src/components/tree/QTree.js"],"sourcesContent":["import Vue from 'vue'\n\nimport QIcon from '../icon/QIcon.js'\nimport QCheckbox from '../checkbox/QCheckbox.js'\nimport QSlideTransition from '../slide-transition/QSlideTransition.js'\nimport QSpinner from '../spinner/QSpinner.js'\nimport DarkMixin from '../../mixins/dark.js'\n\nimport { stopAndPrevent } from '../../utils/event.js'\nimport { shouldIgnoreKey } from '../../utils/key-composition.js'\nimport cache from '../../utils/cache.js'\n\nexport default Vue.extend({\n  name: 'QTree',\n\n  mixins: [ DarkMixin ],\n\n  props: {\n    nodes: {\n      type: Array,\n      required: true\n    },\n    nodeKey: {\n      type: String,\n      required: true\n    },\n    labelKey: {\n      type: String,\n      default: 'label'\n    },\n    childrenKey: {\n      type: String,\n      default: 'children'\n    },\n\n    color: String,\n    controlColor: String,\n    textColor: String,\n    selectedColor: String,\n\n    icon: String,\n\n    tickStrategy: {\n      type: String,\n      default: 'none',\n      validator: v => ['none', 'strict', 'leaf', 'leaf-filtered'].includes(v)\n    },\n    ticked: Array, // sync\n    expanded: Array, // sync\n    selected: {}, // sync\n\n    defaultExpandAll: Boolean,\n    accordion: Boolean,\n\n    filter: String,\n    filterMethod: {\n      type: Function,\n      default (node, filter) {\n        const filt = filter.toLowerCase()\n        return node[this.labelKey] &&\n          node[this.labelKey].toLowerCase().indexOf(filt) > -1\n      }\n    },\n\n    duration: Number,\n    noConnectors: Boolean,\n\n    noNodesLabel: String,\n    noResultsLabel: String\n  },\n\n  computed: {\n    classes () {\n      return `q-tree` +\n        (this.noConnectors === true ? ` q-tree--no-connectors` : '') +\n        (this.isDark === true ? ` q-tree--dark` : '') +\n        (this.color !== void 0 ? ` text-${this.color}` : '')\n    },\n\n    hasSelection () {\n      return this.selected !== void 0\n    },\n\n    computedIcon () {\n      return this.icon || this.$q.iconSet.tree.icon\n    },\n\n    computedControlColor () {\n      return this.controlColor || this.color\n    },\n\n    textColorClass () {\n      if (this.textColor !== void 0) {\n        return `text-${this.textColor}`\n      }\n    },\n\n    selectedColorClass () {\n      const color = this.selectedColor || this.color\n      if (color) {\n        return `text-${color}`\n      }\n    },\n\n    meta () {\n      const meta = {}\n\n      const travel = (node, parent) => {\n        const tickStrategy = node.tickStrategy || (parent ? parent.tickStrategy : this.tickStrategy)\n        const\n          key = node[this.nodeKey],\n          isParent = node[this.childrenKey] && node[this.childrenKey].length > 0,\n          isLeaf = isParent !== true,\n          selectable = node.disabled !== true && this.hasSelection === true && node.selectable !== false,\n          expandable = node.disabled !== true && node.expandable !== false,\n          hasTicking = tickStrategy !== 'none',\n          strictTicking = tickStrategy === 'strict',\n          leafFilteredTicking = tickStrategy === 'leaf-filtered',\n          leafTicking = tickStrategy === 'leaf' || tickStrategy === 'leaf-filtered'\n\n        let tickable = node.disabled !== true && node.tickable !== false\n        if (leafTicking === true && tickable === true && parent && parent.tickable !== true) {\n          tickable = false\n        }\n\n        let lazy = node.lazy\n        if (\n          lazy === true &&\n          this.lazy[key] !== void 0 &&\n          Array.isArray(node[this.childrenKey]) === true\n        ) {\n          lazy = this.lazy[key]\n        }\n\n        const m = {\n          key,\n          parent,\n          isParent,\n          isLeaf,\n          lazy,\n          disabled: node.disabled,\n          link: node.disabled !== true && (selectable === true || (expandable === true && (isParent === true || lazy === true))),\n          children: [],\n          matchesFilter: this.filter ? this.filterMethod(node, this.filter) : true,\n\n          selected: key === this.selected && selectable === true,\n          selectable,\n          expanded: isParent === true ? this.innerExpanded.includes(key) : false,\n          expandable,\n          noTick: node.noTick === true || (strictTicking !== true && lazy && lazy !== 'loaded'),\n          tickable,\n          tickStrategy,\n          hasTicking,\n          strictTicking,\n          leafFilteredTicking,\n          leafTicking,\n          ticked: strictTicking === true\n            ? this.innerTicked.includes(key)\n            : (isLeaf === true ? this.innerTicked.includes(key) : false)\n        }\n\n        meta[key] = m\n\n        if (isParent === true) {\n          m.children = node[this.childrenKey].map(n => travel(n, m))\n\n          if (this.filter) {\n            if (m.matchesFilter !== true) {\n              m.matchesFilter = m.children.some(n => n.matchesFilter)\n            }\n            else if (\n              m.noTick !== true &&\n              m.disabled !== true &&\n              m.tickable === true &&\n              leafFilteredTicking === true &&\n              m.children.every(n => n.matchesFilter !== true || n.noTick === true || n.tickable !== true) === true\n            ) {\n              m.tickable = false\n            }\n          }\n\n          if (m.matchesFilter === true) {\n            if (m.noTick !== true && strictTicking !== true && m.children.every(n => n.noTick) === true) {\n              m.noTick = true\n            }\n\n            if (leafTicking) {\n              m.ticked = false\n              m.indeterminate = m.children.some(node => node.indeterminate === true)\n              m.tickable = m.tickable === true && m.children.some(node => node.tickable)\n\n              if (m.indeterminate !== true) {\n                const sel = m.children\n                  .reduce((acc, meta) => meta.ticked === true ? acc + 1 : acc, 0)\n\n                if (sel === m.children.length) {\n                  m.ticked = true\n                }\n                else if (sel > 0) {\n                  m.indeterminate = true\n                }\n              }\n\n              if (m.indeterminate === true) {\n                m.indeterminateNextState = m.children\n                  .every(meta => meta.tickable !== true || meta.ticked !== true)\n              }\n            }\n          }\n        }\n\n        return m\n      }\n\n      this.nodes.forEach(node => travel(node, null))\n      return meta\n    }\n  },\n\n  data () {\n    return {\n      lazy: {},\n      innerTicked: this.ticked || [],\n      innerExpanded: this.expanded || []\n    }\n  },\n\n  watch: {\n    ticked (val) {\n      this.innerTicked = val\n    },\n\n    expanded (val) {\n      this.innerExpanded = val\n    }\n  },\n\n  methods: {\n    getNodeByKey (key) {\n      const reduce = [].reduce\n\n      const find = (result, node) => {\n        if (result || !node) {\n          return result\n        }\n        if (Array.isArray(node) === true) {\n          return reduce.call(Object(node), find, result)\n        }\n        if (node[this.nodeKey] === key) {\n          return node\n        }\n        if (node[this.childrenKey]) {\n          return find(null, node[this.childrenKey])\n        }\n      }\n\n      return find(null, this.nodes)\n    },\n\n    getTickedNodes () {\n      return this.innerTicked.map(key => this.getNodeByKey(key))\n    },\n\n    getExpandedNodes () {\n      return this.innerExpanded.map(key => this.getNodeByKey(key))\n    },\n\n    isExpanded (key) {\n      return key && this.meta[key]\n        ? this.meta[key].expanded\n        : false\n    },\n\n    collapseAll () {\n      if (this.expanded !== void 0) {\n        this.$emit('update:expanded', [])\n      }\n      else {\n        this.innerExpanded = []\n      }\n    },\n\n    expandAll () {\n      const\n        expanded = this.innerExpanded,\n        travel = node => {\n          if (node[this.childrenKey] && node[this.childrenKey].length > 0) {\n            if (node.expandable !== false && node.disabled !== true) {\n              expanded.push(node[this.nodeKey])\n              node[this.childrenKey].forEach(travel)\n            }\n          }\n        }\n\n      this.nodes.forEach(travel)\n\n      if (this.expanded !== void 0) {\n        this.$emit('update:expanded', expanded)\n      }\n      else {\n        this.innerExpanded = expanded\n      }\n    },\n\n    setExpanded (key, state, node = this.getNodeByKey(key), meta = this.meta[key]) {\n      if (meta.lazy && meta.lazy !== 'loaded') {\n        if (meta.lazy === 'loading') {\n          return\n        }\n\n        this.$set(this.lazy, key, 'loading')\n        if (Array.isArray(node[this.childrenKey]) !== true) {\n          this.$set(node, this.childrenKey, [])\n        }\n        this.$emit('lazy-load', {\n          node,\n          key,\n          done: children => {\n            this.lazy[key] = 'loaded'\n            this.$set(node, this.childrenKey, Array.isArray(children) === true ? children : [])\n            this.$nextTick(() => {\n              const m = this.meta[key]\n              if (m && m.isParent === true) {\n                this.__setExpanded(key, true)\n              }\n            })\n          },\n          fail: () => {\n            this.$delete(this.lazy, key)\n            if (node[this.childrenKey].length === 0) {\n              this.$delete(node, this.childrenKey)\n            }\n          }\n        })\n      }\n      else if (meta.isParent === true && meta.expandable === true) {\n        this.__setExpanded(key, state)\n      }\n    },\n\n    __setExpanded (key, state) {\n      let target = this.innerExpanded\n      const emit = this.expanded !== void 0\n\n      if (emit === true) {\n        target = target.slice()\n      }\n\n      if (state) {\n        if (this.accordion) {\n          if (this.meta[key]) {\n            const collapse = []\n            if (this.meta[key].parent) {\n              this.meta[key].parent.children.forEach(m => {\n                if (m.key !== key && m.expandable === true) {\n                  collapse.push(m.key)\n                }\n              })\n            }\n            else {\n              this.nodes.forEach(node => {\n                const k = node[this.nodeKey]\n                if (k !== key) {\n                  collapse.push(k)\n                }\n              })\n            }\n            if (collapse.length > 0) {\n              target = target.filter(k => collapse.includes(k) === false)\n            }\n          }\n        }\n\n        target = target.concat([ key ])\n          .filter((key, index, self) => self.indexOf(key) === index)\n      }\n      else {\n        target = target.filter(k => k !== key)\n      }\n\n      if (emit === true) {\n        this.$emit(`update:expanded`, target)\n      }\n      else {\n        this.innerExpanded = target\n      }\n    },\n\n    isTicked (key) {\n      return key && this.meta[key]\n        ? this.meta[key].ticked\n        : false\n    },\n\n    setTicked (keys, state) {\n      let target = this.innerTicked\n      const emit = this.ticked !== void 0\n\n      if (emit === true) {\n        target = target.slice()\n      }\n\n      if (state) {\n        target = target.concat(keys)\n          .filter((key, index, self) => self.indexOf(key) === index)\n      }\n      else {\n        target = target.filter(k => keys.includes(k) === false)\n      }\n\n      if (emit === true) {\n        this.$emit(`update:ticked`, target)\n      }\n    },\n\n    __getSlotScope (node, meta, key) {\n      const scope = { tree: this, node, key, color: this.color, dark: this.isDark }\n\n      Object.defineProperty(scope, 'expanded', {\n        get: () => { return meta.expanded },\n        set: val => { val !== meta.expanded && this.setExpanded(key, val) },\n        configurable: true,\n        enumerable: true\n      })\n      Object.defineProperty(scope, 'ticked', {\n        get: () => { return meta.ticked },\n        set: val => { val !== meta.ticked && this.setTicked([ key ], val) },\n        configurable: true,\n        enumerable: true\n      })\n\n      return scope\n    },\n\n    __getChildren (h, nodes) {\n      return (\n        this.filter\n          ? nodes.filter(n => this.meta[n[this.nodeKey]].matchesFilter)\n          : nodes\n      ).map(child => this.__getNode(h, child))\n    },\n\n    __getNodeMedia (h, node) {\n      if (node.icon !== void 0) {\n        return h(QIcon, {\n          staticClass: `q-tree__icon q-mr-sm`,\n          props: { name: node.icon, color: node.iconColor }\n        })\n      }\n      const src = node.img || node.avatar\n      if (src) {\n        return h('img', {\n          staticClass: `q-tree__${node.img ? 'img' : 'avatar'} q-mr-sm`,\n          attrs: { src }\n        })\n      }\n    },\n\n    __getNode (h, node) {\n      const\n        key = node[this.nodeKey],\n        meta = this.meta[key],\n        header = node.header\n          ? this.$scopedSlots[`header-${node.header}`] || this.$scopedSlots['default-header']\n          : this.$scopedSlots['default-header']\n\n      const children = meta.isParent === true\n        ? this.__getChildren(h, node[this.childrenKey])\n        : []\n\n      const isParent = children.length > 0 || (meta.lazy && meta.lazy !== 'loaded')\n\n      let body = node.body\n        ? this.$scopedSlots[`body-${node.body}`] || this.$scopedSlots['default-body']\n        : this.$scopedSlots['default-body']\n      const slotScope = header !== void 0 || body !== void 0\n        ? this.__getSlotScope(node, meta, key)\n        : null\n\n      if (body !== void 0) {\n        body = h('div', { staticClass: 'q-tree__node-body relative-position' }, [\n          h('div', { class: this.textColorClass }, [\n            body(slotScope)\n          ])\n        ])\n      }\n\n      return h('div', {\n        key,\n        staticClass: 'q-tree__node relative-position',\n        class: { 'q-tree__node--parent': isParent, 'q-tree__node--child': !isParent }\n      }, [\n        h('div', {\n          staticClass: 'q-tree__node-header relative-position row no-wrap items-center',\n          class: {\n            'q-tree__node--link q-hoverable q-focusable': meta.link,\n            'q-tree__node--selected': meta.selected,\n            'q-tree__node--disabled': meta.disabled\n          },\n          attrs: { tabindex: meta.link ? 0 : -1 },\n          on: {\n            click: (e) => {\n              this.__onClick(node, meta, e)\n            },\n            keypress: e => {\n              if (shouldIgnoreKey(e) !== true) {\n                if (e.keyCode === 13) { this.__onClick(node, meta, e, true) }\n                else if (e.keyCode === 32) { this.__onExpandClick(node, meta, e, true) }\n              }\n            }\n          }\n        }, [\n          h('div', { staticClass: 'q-focus-helper', attrs: { tabindex: -1 }, ref: `blurTarget_${meta.key}` }),\n\n          meta.lazy === 'loading'\n            ? h(QSpinner, {\n              staticClass: 'q-tree__spinner q-mr-xs',\n              props: { color: this.computedControlColor }\n            })\n            : (\n              isParent === true\n                ? h(QIcon, {\n                  staticClass: 'q-tree__arrow q-mr-xs',\n                  class: { 'q-tree__arrow--rotate': meta.expanded },\n                  props: { name: this.computedIcon },\n                  on: {\n                    click: e => {\n                      this.__onExpandClick(node, meta, e)\n                    }\n                  }\n                })\n                : null\n            ),\n\n          meta.hasTicking === true && meta.noTick !== true\n            ? h(QCheckbox, {\n              staticClass: 'q-mr-xs',\n              props: {\n                value: meta.indeterminate === true ? null : meta.ticked,\n                color: this.computedControlColor,\n                dark: this.isDark,\n                dense: true,\n                keepColor: true,\n                disable: meta.tickable !== true\n              },\n              on: {\n                keydown: stopAndPrevent,\n                input: v => {\n                  this.__onTickedClick(meta, v)\n                }\n              }\n            })\n            : null,\n\n          h('div', {\n            'staticClass': 'q-tree__node-header-content col row no-wrap items-center',\n            class: meta.selected ? this.selectedColorClass : this.textColorClass\n          }, [\n            header\n              ? header(slotScope)\n              : [\n                this.__getNodeMedia(h, node),\n                h('div', node[this.labelKey])\n              ]\n          ])\n        ]),\n\n        isParent === true\n          ? h(QSlideTransition, {\n            props: { duration: this.duration },\n            on: cache(this, 'slide', {\n              show: () => { this.$emit('after-show') },\n              hide: () => { this.$emit('after-hide') }\n            })\n          }, [\n            h('div', {\n              staticClass: 'q-tree__node-collapsible',\n              class: this.textColorClass,\n              directives: [{ name: 'show', value: meta.expanded }]\n            }, [\n              body,\n\n              h('div', {\n                staticClass: 'q-tree__children',\n                class: { 'q-tree__node--disabled': meta.disabled }\n              }, children)\n            ])\n          ])\n          : body\n      ])\n    },\n\n    __blur (key) {\n      const blurTarget = this.$refs[`blurTarget_${key}`]\n      blurTarget !== void 0 && blurTarget.focus()\n    },\n\n    __onClick (node, meta, e, keyboard) {\n      keyboard !== true && this.__blur(meta.key)\n\n      if (this.hasSelection) {\n        if (meta.selectable) {\n          this.$emit('update:selected', meta.key !== this.selected ? meta.key : null)\n        }\n      }\n      else {\n        this.__onExpandClick(node, meta, e, keyboard)\n      }\n\n      if (typeof node.handler === 'function') {\n        node.handler(node)\n      }\n    },\n\n    __onExpandClick (node, meta, e, keyboard) {\n      if (e !== void 0) {\n        stopAndPrevent(e)\n      }\n      keyboard !== true && this.__blur(meta.key)\n      this.setExpanded(meta.key, !meta.expanded, node, meta)\n    },\n\n    __onTickedClick (meta, state) {\n      if (meta.indeterminate === true) {\n        state = meta.indeterminateNextState\n      }\n      if (meta.strictTicking) {\n        this.setTicked([ meta.key ], state)\n      }\n      else if (meta.leafTicking) {\n        const keys = []\n        const travel = meta => {\n          if (meta.isParent) {\n            if (state !== true && meta.noTick !== true && meta.tickable === true) {\n              keys.push(meta.key)\n            }\n            if (meta.leafTicking === true) {\n              meta.children.forEach(travel)\n            }\n          }\n          else if (\n            meta.noTick !== true &&\n            meta.tickable === true &&\n            (meta.leafFilteredTicking !== true || meta.matchesFilter === true)\n          ) {\n            keys.push(meta.key)\n          }\n        }\n        travel(meta)\n        this.setTicked(keys, state)\n      }\n    }\n  },\n\n  render (h) {\n    const children = this.__getChildren(h, this.nodes)\n\n    return h(\n      'div', {\n        class: this.classes\n      },\n      children.length === 0\n        ? (\n          this.filter\n            ? this.noResultsLabel || this.$q.lang.tree.noResults\n            : this.noNodesLabel || this.$q.lang.tree.noNodes\n        )\n        : children\n    )\n  },\n\n  created () {\n    this.defaultExpandAll === true && this.expandAll()\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}