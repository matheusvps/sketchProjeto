{"ast":null,"code":"import _objectSpread from \"C:/Users/rodri/sketchProjeto/view/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport QMenu from '../menu/QMenu.js';\nimport QBtn from '../btn/QBtn.js';\nimport AttrsMixin from '../../mixins/attrs.js';\nimport clone from '../../utils/clone.js';\nimport { isDeepEqual } from '../../utils/is.js';\nimport { slot } from '../../utils/slot.js';\nimport { isKeyCode } from '../../utils/key-composition.js';\nimport cache from '../../utils/cache.js';\nexport default Vue.extend({\n  name: 'QPopupEdit',\n  mixins: [AttrsMixin],\n  props: {\n    value: {\n      required: true\n    },\n    title: String,\n    buttons: Boolean,\n    labelSet: String,\n    labelCancel: String,\n    color: {\n      type: String,\n      \"default\": 'primary'\n    },\n    validate: {\n      type: Function,\n      \"default\": function _default() {\n        return true;\n      }\n    },\n    autoSave: Boolean,\n    /* menu props overrides */\n    cover: {\n      type: Boolean,\n      \"default\": true\n    },\n    contentClass: String,\n    /* end of menu props */\n\n    disable: Boolean\n  },\n  data: function data() {\n    return {\n      initialValue: ''\n    };\n  },\n  computed: {\n    classes: function classes() {\n      return 'q-popup-edit' + (this.contentClass !== void 0 ? \" \".concat(this.contentClass) : '');\n    },\n    defaultSlotScope: function defaultSlotScope() {\n      return {\n        initialValue: this.initialValue,\n        value: this.value,\n        emitValue: this.__emitValue,\n        validate: this.validate,\n        set: this.set,\n        cancel: this.cancel\n      };\n    },\n    menuProps: function menuProps() {\n      return _objectSpread(_objectSpread({}, this.qAttrs), {}, {\n        cover: this.cover,\n        contentClass: this.classes\n      });\n    }\n  },\n  methods: {\n    set: function set() {\n      if (this.__hasChanged() === true) {\n        if (this.validate(this.value) === false) {\n          return;\n        }\n        this.$emit('save', this.value, this.initialValue);\n      }\n      this.__close();\n    },\n    cancel: function cancel() {\n      if (this.__hasChanged() === true) {\n        this.$emit('input', this.initialValue);\n        this.$emit('cancel', this.value, this.initialValue);\n      }\n      this.__close();\n    },\n    show: function show(e) {\n      this.$refs.menu !== void 0 && this.$refs.menu.show(e);\n    },\n    hide: function hide(e) {\n      this.$refs.menu !== void 0 && this.$refs.menu.hide(e);\n    },\n    __hasChanged: function __hasChanged() {\n      return isDeepEqual(this.value, this.initialValue) === false;\n    },\n    __emitValue: function __emitValue(val) {\n      if (this.disable !== true) {\n        this.$emit('input', val);\n      }\n    },\n    __close: function __close() {\n      this.validated = true;\n      this.$refs.menu.showing === true && this.$refs.menu.hide();\n    },\n    __reposition: function __reposition() {\n      var _this = this;\n      this.$nextTick(function () {\n        _this.$refs.menu.updatePosition();\n      });\n    },\n    __getContent: function __getContent(h) {\n      var title = slot(this, 'title', this.title),\n        child = this.$scopedSlots[\"default\"] === void 0 ? [] : this.$scopedSlots[\"default\"](this.defaultSlotScope).slice();\n      title && child.unshift(h('div', {\n        staticClass: 'q-dialog__title q-mt-sm q-mb-sm'\n      }, [title]));\n      this.buttons === true && child.push(h('div', {\n        staticClass: 'q-popup-edit__buttons row justify-center no-wrap'\n      }, [h(QBtn, {\n        props: {\n          flat: true,\n          color: this.color,\n          label: this.labelCancel || this.$q.lang.label.cancel\n        },\n        on: cache(this, 'cancel', {\n          click: this.cancel\n        })\n      }), h(QBtn, {\n        props: {\n          flat: true,\n          color: this.color,\n          label: this.labelSet || this.$q.lang.label.set\n        },\n        on: cache(this, 'ok', {\n          click: this.set\n        })\n      })]));\n      return child;\n    }\n  },\n  render: function render(h) {\n    var _this2 = this;\n    if (this.disable === true) {\n      return;\n    }\n    return h(QMenu, {\n      ref: 'menu',\n      props: this.menuProps,\n      on: cache(this, 'menu', {\n        'before-show': function beforeShow() {\n          _this2.validated = false;\n          _this2.initialValue = clone(_this2.value);\n          _this2.watcher = _this2.$watch('value', _this2.__reposition);\n          _this2.$emit('before-show');\n        },\n        show: function show() {\n          _this2.$emit('show');\n        },\n        'escape-key': this.cancel,\n        'before-hide': function beforeHide() {\n          _this2.watcher();\n          if (_this2.validated === false && _this2.__hasChanged() === true) {\n            if (_this2.autoSave === true && _this2.validate(_this2.value) === true) {\n              _this2.$emit('save', _this2.value, _this2.initialValue);\n            } else {\n              _this2.$emit('cancel', _this2.value, _this2.initialValue);\n              _this2.$emit('input', _this2.initialValue);\n            }\n          }\n          _this2.$emit('before-hide');\n        },\n        hide: function hide() {\n          _this2.$emit('hide');\n        },\n        keyup: function keyup(e) {\n          isKeyCode(e, 13) === true && _this2.set();\n        }\n      })\n    }, this.__getContent(h));\n  }\n});","map":{"version":3,"names":["Vue","QMenu","QBtn","AttrsMixin","clone","isDeepEqual","slot","isKeyCode","cache","extend","name","mixins","props","value","required","title","String","buttons","Boolean","labelSet","labelCancel","color","type","validate","Function","_default","autoSave","cover","contentClass","disable","data","initialValue","computed","classes","concat","defaultSlotScope","emitValue","__emitValue","set","cancel","menuProps","_objectSpread","qAttrs","methods","__hasChanged","$emit","__close","show","e","$refs","menu","hide","val","validated","showing","__reposition","_this","$nextTick","updatePosition","__getContent","h","child","$scopedSlots","slice","unshift","staticClass","push","flat","label","$q","lang","on","click","render","_this2","ref","beforeShow","watcher","$watch","beforeHide","keyup"],"sources":["C:/Users/rodri/sketchProjeto/view/node_modules/quasar/src/components/popup-edit/QPopupEdit.js"],"sourcesContent":["import Vue from 'vue'\n\nimport QMenu from '../menu/QMenu.js'\nimport QBtn from '../btn/QBtn.js'\n\nimport AttrsMixin from '../../mixins/attrs.js'\n\nimport clone from '../../utils/clone.js'\nimport { isDeepEqual } from '../../utils/is.js'\nimport { slot } from '../../utils/slot.js'\nimport { isKeyCode } from '../../utils/key-composition.js'\nimport cache from '../../utils/cache.js'\n\nexport default Vue.extend({\n  name: 'QPopupEdit',\n\n  mixins: [ AttrsMixin ],\n\n  props: {\n    value: {\n      required: true\n    },\n    title: String,\n    buttons: Boolean,\n    labelSet: String,\n    labelCancel: String,\n\n    color: {\n      type: String,\n      default: 'primary'\n    },\n    validate: {\n      type: Function,\n      default: () => true\n    },\n\n    autoSave: Boolean,\n\n    /* menu props overrides */\n    cover: {\n      type: Boolean,\n      default: true\n    },\n    contentClass: String,\n    /* end of menu props */\n\n    disable: Boolean\n  },\n\n  data () {\n    return {\n      initialValue: ''\n    }\n  },\n\n  computed: {\n    classes () {\n      return 'q-popup-edit' +\n        (this.contentClass !== void 0 ? ` ${this.contentClass}` : '')\n    },\n\n    defaultSlotScope () {\n      return {\n        initialValue: this.initialValue,\n        value: this.value,\n        emitValue: this.__emitValue,\n        validate: this.validate,\n        set: this.set,\n        cancel: this.cancel\n      }\n    },\n\n    menuProps () {\n      return {\n        ...this.qAttrs,\n        cover: this.cover,\n        contentClass: this.classes\n      }\n    }\n  },\n\n  methods: {\n    set () {\n      if (this.__hasChanged() === true) {\n        if (this.validate(this.value) === false) {\n          return\n        }\n        this.$emit('save', this.value, this.initialValue)\n      }\n      this.__close()\n    },\n\n    cancel () {\n      if (this.__hasChanged() === true) {\n        this.$emit('input', this.initialValue)\n        this.$emit('cancel', this.value, this.initialValue)\n      }\n      this.__close()\n    },\n\n    show (e) {\n      this.$refs.menu !== void 0 && this.$refs.menu.show(e)\n    },\n\n    hide (e) {\n      this.$refs.menu !== void 0 && this.$refs.menu.hide(e)\n    },\n\n    __hasChanged () {\n      return isDeepEqual(this.value, this.initialValue) === false\n    },\n\n    __emitValue (val) {\n      if (this.disable !== true) {\n        this.$emit('input', val)\n      }\n    },\n\n    __close () {\n      this.validated = true\n      this.$refs.menu.showing === true && this.$refs.menu.hide()\n    },\n\n    __reposition () {\n      this.$nextTick(() => {\n        this.$refs.menu.updatePosition()\n      })\n    },\n\n    __getContent (h) {\n      const\n        title = slot(this, 'title', this.title),\n        child = this.$scopedSlots.default === void 0\n          ? []\n          : this.$scopedSlots.default(this.defaultSlotScope).slice()\n\n      title && child.unshift(\n        h('div', { staticClass: 'q-dialog__title q-mt-sm q-mb-sm' }, [ title ])\n      )\n\n      this.buttons === true && child.push(\n        h('div', { staticClass: 'q-popup-edit__buttons row justify-center no-wrap' }, [\n          h(QBtn, {\n            props: {\n              flat: true,\n              color: this.color,\n              label: this.labelCancel || this.$q.lang.label.cancel\n            },\n            on: cache(this, 'cancel', { click: this.cancel })\n          }),\n          h(QBtn, {\n            props: {\n              flat: true,\n              color: this.color,\n              label: this.labelSet || this.$q.lang.label.set\n            },\n            on: cache(this, 'ok', { click: this.set })\n          })\n        ])\n      )\n\n      return child\n    }\n  },\n\n  render (h) {\n    if (this.disable === true) { return }\n\n    return h(QMenu, {\n      ref: 'menu',\n      props: this.menuProps,\n      on: cache(this, 'menu', {\n        'before-show': () => {\n          this.validated = false\n          this.initialValue = clone(this.value)\n          this.watcher = this.$watch('value', this.__reposition)\n          this.$emit('before-show')\n        },\n        show: () => {\n          this.$emit('show')\n        },\n        'escape-key': this.cancel,\n        'before-hide': () => {\n          this.watcher()\n\n          if (this.validated === false && this.__hasChanged() === true) {\n            if (this.autoSave === true && this.validate(this.value) === true) {\n              this.$emit('save', this.value, this.initialValue)\n            }\n            else {\n              this.$emit('cancel', this.value, this.initialValue)\n              this.$emit('input', this.initialValue)\n            }\n          }\n\n          this.$emit('before-hide')\n        },\n        hide: () => {\n          this.$emit('hide')\n        },\n        keyup: e => {\n          isKeyCode(e, 13) === true && this.set()\n        }\n      })\n    }, this.__getContent(h))\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}