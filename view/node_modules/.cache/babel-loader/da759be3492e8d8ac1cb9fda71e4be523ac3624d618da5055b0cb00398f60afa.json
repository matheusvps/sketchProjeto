{"ast":null,"code":"import _typeof from \"C:/Users/rodri/projetos/sketchProjeto/view/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _objectSpread from \"C:/Users/rodri/projetos/sketchProjeto/view/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport Vue from 'vue';\nimport ListenersMixin from '../../mixins/listeners.js';\nimport { stopAndPrevent } from '../../utils/event.js';\nimport { slot } from '../../utils/slot.js';\nexport default Vue.extend({\n  name: 'QForm',\n  mixins: [ListenersMixin],\n  props: {\n    autofocus: Boolean,\n    noErrorFocus: Boolean,\n    noResetFocus: Boolean,\n    greedy: Boolean\n  },\n  computed: {\n    onEvents: function onEvents() {\n      return _objectSpread(_objectSpread({}, this.qListeners), {}, {\n        submit: this.submit,\n        reset: this.reset\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.validateIndex = 0;\n    this.autofocus === true && this.focus();\n  },\n  methods: {\n    validate: function validate(shouldFocus) {\n      var _this = this;\n      var promises = [];\n      var focus = typeof shouldFocus === 'boolean' ? shouldFocus : this.noErrorFocus !== true;\n      this.validateIndex++;\n      var components = this.getValidationComponents();\n      var emit = function emit(res, ref) {\n        _this.$emit('validation-' + (res === true ? 'success' : 'error'), ref);\n      };\n      var _loop = function _loop() {\n        var comp = components[i];\n        var valid = comp.validate();\n        if (typeof valid.then === 'function') {\n          promises.push(valid.then(function (valid) {\n            return {\n              valid: valid,\n              comp: comp\n            };\n          }, function (error) {\n            return {\n              valid: false,\n              comp: comp,\n              error: error\n            };\n          }));\n        } else if (valid !== true) {\n          if (_this.greedy === false) {\n            emit(false, comp);\n            if (focus === true && typeof comp.focus === 'function') {\n              comp.focus();\n            }\n            return {\n              v: Promise.resolve(false)\n            };\n          }\n          promises.push({\n            valid: false,\n            comp: comp\n          });\n        }\n      };\n      for (var i = 0; i < components.length; i++) {\n        var _ret = _loop();\n        if (_typeof(_ret) === \"object\") return _ret.v;\n      }\n      if (promises.length === 0) {\n        emit(true);\n        return Promise.resolve(true);\n      }\n      var index = this.validateIndex;\n      return Promise.all(promises).then(function (res) {\n        if (index === _this.validateIndex) {\n          var errors = res.filter(function (r) {\n            return r.valid !== true;\n          });\n          if (errors.length === 0) {\n            emit(true);\n            return true;\n          }\n          var _errors$ = errors[0],\n            valid = _errors$.valid,\n            comp = _errors$.comp;\n          emit(false, comp);\n          if (focus === true && valid !== true && typeof comp.focus === 'function') {\n            comp.focus();\n          }\n          return false;\n        }\n      });\n    },\n    resetValidation: function resetValidation() {\n      this.validateIndex++;\n      this.getValidationComponents().forEach(function (comp) {\n        comp.resetValidation();\n      });\n    },\n    submit: function submit(evt) {\n      var _this2 = this;\n      evt !== void 0 && stopAndPrevent(evt);\n      this.validate().then(function (val) {\n        if (val === true) {\n          if (_this2.qListeners.submit !== void 0) {\n            _this2.$emit('submit', evt);\n          } else if (evt !== void 0 && evt.target !== void 0 && typeof evt.target.submit === 'function') {\n            evt.target.submit();\n          }\n        }\n      });\n    },\n    reset: function reset(evt) {\n      var _this3 = this;\n      evt !== void 0 && stopAndPrevent(evt);\n      this.$emit('reset');\n      this.$nextTick(function () {\n        // allow userland to reset values before\n        _this3.resetValidation();\n        if (_this3.autofocus === true && _this3.noResetFocus !== true) {\n          _this3.focus();\n        }\n      });\n    },\n    focus: function focus() {\n      var target = this.$el.querySelector('[autofocus], [data-autofocus]') || Array.prototype.find.call(this.$el.querySelectorAll('[tabindex]'), function (el) {\n        return el.tabIndex > -1;\n      });\n      target !== null && target !== void 0 && target.focus();\n    },\n    getValidationComponents: function getValidationComponents() {\n      return Array.prototype.map.call(this.$el.getElementsByClassName('q-validation-component'), function (field) {\n        return field.__vue__;\n      }).filter(function (c) {\n        return c !== void 0 && typeof c.validate === 'function';\n      });\n    }\n  },\n  render: function render(h) {\n    return h('form', {\n      staticClass: 'q-form',\n      on: this.onEvents\n    }, slot(this, 'default'));\n  }\n});","map":{"version":3,"names":["Vue","ListenersMixin","stopAndPrevent","slot","extend","name","mixins","props","autofocus","Boolean","noErrorFocus","noResetFocus","greedy","computed","onEvents","_objectSpread","qListeners","submit","reset","mounted","validateIndex","focus","methods","validate","shouldFocus","_this","promises","components","getValidationComponents","emit","res","ref","$emit","_loop","comp","i","valid","then","push","error","v","Promise","resolve","length","_ret","_typeof","index","all","errors","filter","r","_errors$","resetValidation","forEach","evt","_this2","val","target","_this3","$nextTick","$el","querySelector","Array","prototype","find","call","querySelectorAll","el","tabIndex","map","getElementsByClassName","field","__vue__","c","render","h","staticClass","on"],"sources":["C:/Users/rodri/projetos/sketchProjeto/view/node_modules/quasar/src/components/form/QForm.js"],"sourcesContent":["import Vue from 'vue'\n\nimport ListenersMixin from '../../mixins/listeners.js'\n\nimport { stopAndPrevent } from '../../utils/event.js'\nimport { slot } from '../../utils/slot.js'\n\nexport default Vue.extend({\n  name: 'QForm',\n\n  mixins: [ ListenersMixin ],\n\n  props: {\n    autofocus: Boolean,\n    noErrorFocus: Boolean,\n    noResetFocus: Boolean,\n    greedy: Boolean\n  },\n\n  computed: {\n    onEvents () {\n      return {\n        ...this.qListeners,\n        submit: this.submit,\n        reset: this.reset\n      }\n    }\n  },\n\n  mounted () {\n    this.validateIndex = 0\n    this.autofocus === true && this.focus()\n  },\n\n  methods: {\n    validate (shouldFocus) {\n      const promises = []\n      const focus = typeof shouldFocus === 'boolean'\n        ? shouldFocus\n        : this.noErrorFocus !== true\n\n      this.validateIndex++\n\n      const components = this.getValidationComponents()\n\n      const emit = (res, ref) => {\n        this.$emit('validation-' + (res === true ? 'success' : 'error'), ref)\n      }\n\n      for (let i = 0; i < components.length; i++) {\n        const comp = components[i]\n        const valid = comp.validate()\n\n        if (typeof valid.then === 'function') {\n          promises.push(\n            valid.then(\n              valid => ({ valid, comp }),\n              error => ({ valid: false, comp, error })\n            )\n          )\n        }\n        else if (valid !== true) {\n          if (this.greedy === false) {\n            emit(false, comp)\n\n            if (focus === true && typeof comp.focus === 'function') {\n              comp.focus()\n            }\n\n            return Promise.resolve(false)\n          }\n\n          promises.push({ valid: false, comp })\n        }\n      }\n\n      if (promises.length === 0) {\n        emit(true)\n        return Promise.resolve(true)\n      }\n\n      const index = this.validateIndex\n\n      return Promise.all(promises).then(\n        res => {\n          if (index === this.validateIndex) {\n            const errors = res.filter(r => r.valid !== true)\n\n            if (errors.length === 0) {\n              emit(true)\n              return true\n            }\n\n            const { valid, comp } = errors[0]\n\n            emit(false, comp)\n\n            if (\n              focus === true &&\n              valid !== true &&\n              typeof comp.focus === 'function'\n            ) {\n              comp.focus()\n            }\n\n            return false\n          }\n        }\n      )\n    },\n\n    resetValidation () {\n      this.validateIndex++\n\n      this.getValidationComponents().forEach(comp => {\n        comp.resetValidation()\n      })\n    },\n\n    submit (evt) {\n      evt !== void 0 && stopAndPrevent(evt)\n\n      this.validate().then(val => {\n        if (val === true) {\n          if (this.qListeners.submit !== void 0) {\n            this.$emit('submit', evt)\n          }\n          else if (evt !== void 0 && evt.target !== void 0 && typeof evt.target.submit === 'function') {\n            evt.target.submit()\n          }\n        }\n      })\n    },\n\n    reset (evt) {\n      evt !== void 0 && stopAndPrevent(evt)\n\n      this.$emit('reset')\n\n      this.$nextTick(() => { // allow userland to reset values before\n        this.resetValidation()\n        if (this.autofocus === true && this.noResetFocus !== true) {\n          this.focus()\n        }\n      })\n    },\n\n    focus () {\n      const target = this.$el.querySelector('[autofocus], [data-autofocus]') ||\n        Array.prototype.find.call(this.$el.querySelectorAll('[tabindex]'), el => el.tabIndex > -1)\n\n      target !== null && target !== void 0 && target.focus()\n    },\n\n    getValidationComponents () {\n      return Array.prototype.map.call(\n        this.$el.getElementsByClassName('q-validation-component'),\n        field => field.__vue__\n      ).filter(c => c !== void 0 && typeof c.validate === 'function')\n    }\n  },\n\n  render (h) {\n    return h('form', {\n      staticClass: 'q-form',\n      on: this.onEvents\n    }, slot(this, 'default'))\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}