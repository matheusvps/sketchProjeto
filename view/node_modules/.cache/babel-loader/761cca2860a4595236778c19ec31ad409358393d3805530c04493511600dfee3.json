{"ast":null,"code":"import _objectSpread from \"C:/Users/rodri/projetos/sketchProjeto/view/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport Vue from 'vue';\nimport ListenersMixin from '../../mixins/listeners.js';\nimport { height, offset } from '../../utils/dom.js';\nimport frameDebounce from '../../utils/frame-debounce.js';\nimport { getScrollTarget } from '../../utils/scroll.js';\nimport { slot } from '../../utils/slot.js';\nimport { listenOpts } from '../../utils/event.js';\nvar passive = listenOpts.passive;\nexport default Vue.extend({\n  name: 'QParallax',\n  mixins: [ListenersMixin],\n  props: {\n    src: String,\n    height: {\n      type: Number,\n      \"default\": 500\n    },\n    speed: {\n      type: Number,\n      \"default\": 1,\n      validator: function validator(v) {\n        return v >= 0 && v <= 1;\n      }\n    },\n    scrollTarget: {\n      \"default\": void 0\n    }\n  },\n  data: function data() {\n    return {\n      scrolling: false,\n      percentScrolled: 0\n    };\n  },\n  watch: {\n    height: function height() {\n      this.working === true && this.__updatePos();\n    },\n    scrollTarget: function scrollTarget() {\n      if (this.working === true) {\n        this.__stop();\n        this.__start();\n      }\n    }\n  },\n  methods: {\n    __update: function __update(percentage) {\n      this.percentScrolled = percentage;\n      this.qListeners.scroll !== void 0 && this.$emit('scroll', percentage);\n    },\n    __updatePos: function __updatePos() {\n      var containerTop, containerHeight, containerBottom;\n      if (this.__scrollTarget === window) {\n        containerTop = 0;\n        containerHeight = window.innerHeight;\n        containerBottom = containerHeight;\n      } else {\n        containerTop = offset(this.__scrollTarget).top;\n        containerHeight = height(this.__scrollTarget);\n        containerBottom = containerTop + containerHeight;\n      }\n      var top = offset(this.$el).top;\n      var bottom = top + this.height;\n      if (this.observer !== void 0 || bottom > containerTop && top < containerBottom) {\n        var percent = (containerBottom - top) / (this.height + containerHeight);\n        this.__setPos((this.mediaHeight - this.height) * percent * this.speed);\n        this.__update(percent);\n      }\n    },\n    __setPos: function __setPos(offset) {\n      // apply it immediately without any delay\n      this.media.style.transform = \"translate3D(-50%,\".concat(Math.round(offset), \"px, 0)\");\n    },\n    __onResize: function __onResize() {\n      this.mediaHeight = this.media.naturalHeight || this.media.videoHeight || height(this.media);\n      this.working === true && this.__updatePos();\n    },\n    __start: function __start() {\n      this.working = true;\n      this.__scrollTarget = getScrollTarget(this.$el, this.scrollTarget);\n      this.__scrollTarget.addEventListener('scroll', this.__updatePos, passive);\n      window.addEventListener('resize', this.__resizeHandler, passive);\n      this.__updatePos();\n    },\n    __stop: function __stop() {\n      if (this.working === true) {\n        this.working = false;\n        this.__scrollTarget.removeEventListener('scroll', this.__updatePos, passive);\n        window.removeEventListener('resize', this.__resizeHandler, passive);\n        this.__scrollTarget = void 0;\n      }\n    }\n  },\n  render: function render(h) {\n    return h('div', {\n      staticClass: 'q-parallax',\n      style: {\n        height: \"\".concat(this.height, \"px\")\n      },\n      on: _objectSpread({}, this.qListeners)\n    }, [h('div', {\n      ref: 'mediaParent',\n      staticClass: 'q-parallax__media absolute-full'\n    }, this.$scopedSlots.media !== void 0 ? this.$scopedSlots.media() : [h('img', {\n      ref: 'media',\n      attrs: {\n        src: this.src\n      }\n    })]), h('div', {\n      staticClass: 'q-parallax__content absolute-full column flex-center'\n    }, this.$scopedSlots.content !== void 0 ? this.$scopedSlots.content({\n      percentScrolled: this.percentScrolled\n    }) : slot(this, 'default'))]);\n  },\n  mounted: function mounted() {\n    var _this = this;\n    this.__setPos = frameDebounce(this.__setPos);\n    this.__update = frameDebounce(this.__update);\n    this.__resizeHandler = frameDebounce(this.__onResize);\n    this.media = this.$scopedSlots.media !== void 0 ? this.$refs.mediaParent.children[0] : this.$refs.media;\n    this.media.onload = this.media.onloadstart = this.media.loadedmetadata = this.__onResize;\n    this.__onResize();\n    this.media.style.display = 'initial';\n    if (window.IntersectionObserver !== void 0) {\n      this.observer = new IntersectionObserver(function (entries) {\n        _this[entries[0].isIntersecting === true ? '__start' : '__stop']();\n      });\n      this.observer.observe(this.$el);\n    } else {\n      this.__start();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.__stop();\n    this.observer !== void 0 && this.observer.disconnect();\n    this.media.onload = this.media.onloadstart = this.media.loadedmetadata = null;\n  }\n});","map":{"version":3,"names":["Vue","ListenersMixin","height","offset","frameDebounce","getScrollTarget","slot","listenOpts","passive","extend","name","mixins","props","src","String","type","Number","speed","validator","v","scrollTarget","data","scrolling","percentScrolled","watch","working","__updatePos","__stop","__start","methods","__update","percentage","qListeners","scroll","$emit","containerTop","containerHeight","containerBottom","__scrollTarget","window","innerHeight","top","$el","bottom","observer","percent","__setPos","mediaHeight","media","style","transform","concat","Math","round","__onResize","naturalHeight","videoHeight","addEventListener","__resizeHandler","removeEventListener","render","h","staticClass","on","_objectSpread","ref","$scopedSlots","attrs","content","mounted","_this","$refs","mediaParent","children","onload","onloadstart","loadedmetadata","display","IntersectionObserver","entries","isIntersecting","observe","beforeDestroy","disconnect"],"sources":["C:/Users/rodri/projetos/sketchProjeto/view/node_modules/quasar/src/components/parallax/QParallax.js"],"sourcesContent":["import Vue from 'vue'\n\nimport ListenersMixin from '../../mixins/listeners.js'\n\nimport { height, offset } from '../../utils/dom.js'\nimport frameDebounce from '../../utils/frame-debounce.js'\nimport { getScrollTarget } from '../../utils/scroll.js'\nimport { slot } from '../../utils/slot.js'\nimport { listenOpts } from '../../utils/event.js'\n\nconst { passive } = listenOpts\n\nexport default Vue.extend({\n  name: 'QParallax',\n\n  mixins: [ ListenersMixin ],\n\n  props: {\n    src: String,\n    height: {\n      type: Number,\n      default: 500\n    },\n    speed: {\n      type: Number,\n      default: 1,\n      validator: v => v >= 0 && v <= 1\n    },\n\n    scrollTarget: {\n      default: void 0\n    }\n  },\n\n  data () {\n    return {\n      scrolling: false,\n      percentScrolled: 0\n    }\n  },\n\n  watch: {\n    height () {\n      this.working === true && this.__updatePos()\n    },\n\n    scrollTarget () {\n      if (this.working === true) {\n        this.__stop()\n        this.__start()\n      }\n    }\n  },\n\n  methods: {\n    __update (percentage) {\n      this.percentScrolled = percentage\n      this.qListeners.scroll !== void 0 && this.$emit('scroll', percentage)\n    },\n\n    __updatePos () {\n      let containerTop, containerHeight, containerBottom\n\n      if (this.__scrollTarget === window) {\n        containerTop = 0\n        containerHeight = window.innerHeight\n        containerBottom = containerHeight\n      }\n      else {\n        containerTop = offset(this.__scrollTarget).top\n        containerHeight = height(this.__scrollTarget)\n        containerBottom = containerTop + containerHeight\n      }\n\n      const top = offset(this.$el).top\n      const bottom = top + this.height\n\n      if (this.observer !== void 0 || (bottom > containerTop && top < containerBottom)) {\n        const percent = (containerBottom - top) / (this.height + containerHeight)\n        this.__setPos((this.mediaHeight - this.height) * percent * this.speed)\n        this.__update(percent)\n      }\n    },\n\n    __setPos (offset) {\n      // apply it immediately without any delay\n      this.media.style.transform = `translate3D(-50%,${Math.round(offset)}px, 0)`\n    },\n\n    __onResize () {\n      this.mediaHeight = this.media.naturalHeight || this.media.videoHeight || height(this.media)\n      this.working === true && this.__updatePos()\n    },\n\n    __start () {\n      this.working = true\n      this.__scrollTarget = getScrollTarget(this.$el, this.scrollTarget)\n      this.__scrollTarget.addEventListener('scroll', this.__updatePos, passive)\n      window.addEventListener('resize', this.__resizeHandler, passive)\n      this.__updatePos()\n    },\n\n    __stop () {\n      if (this.working === true) {\n        this.working = false\n        this.__scrollTarget.removeEventListener('scroll', this.__updatePos, passive)\n        window.removeEventListener('resize', this.__resizeHandler, passive)\n        this.__scrollTarget = void 0\n      }\n    }\n  },\n\n  render (h) {\n    return h('div', {\n      staticClass: 'q-parallax',\n      style: { height: `${this.height}px` },\n      on: { ...this.qListeners }\n    }, [\n      h('div', {\n        ref: 'mediaParent',\n        staticClass: 'q-parallax__media absolute-full'\n      }, this.$scopedSlots.media !== void 0 ? this.$scopedSlots.media() : [\n        h('img', {\n          ref: 'media',\n          attrs: {\n            src: this.src\n          }\n        })\n      ]),\n\n      h(\n        'div',\n        { staticClass: 'q-parallax__content absolute-full column flex-center' },\n        this.$scopedSlots.content !== void 0\n          ? this.$scopedSlots.content({ percentScrolled: this.percentScrolled })\n          : slot(this, 'default')\n      )\n    ])\n  },\n\n  mounted () {\n    this.__setPos = frameDebounce(this.__setPos)\n    this.__update = frameDebounce(this.__update)\n    this.__resizeHandler = frameDebounce(this.__onResize)\n\n    this.media = this.$scopedSlots.media !== void 0\n      ? this.$refs.mediaParent.children[0]\n      : this.$refs.media\n\n    this.media.onload = this.media.onloadstart = this.media.loadedmetadata = this.__onResize\n    this.__onResize()\n    this.media.style.display = 'initial'\n\n    if (window.IntersectionObserver !== void 0) {\n      this.observer = new IntersectionObserver(entries => {\n        this[entries[0].isIntersecting === true ? '__start' : '__stop']()\n      })\n\n      this.observer.observe(this.$el)\n    }\n    else {\n      this.__start()\n    }\n  },\n\n  beforeDestroy () {\n    this.__stop()\n    this.observer !== void 0 && this.observer.disconnect()\n    this.media.onload = this.media.onloadstart = this.media.loadedmetadata = null\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}